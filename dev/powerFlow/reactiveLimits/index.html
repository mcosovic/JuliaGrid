<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Generator Reactive Power Limits · JuliaGrid</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/tablestyle.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaGrid</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Power System</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../powerSystem/model/">Power System Model</a></li><li><a class="tocitem" href="../../powerSystem/buildModel/">Build Power System Model</a></li><li><a class="tocitem" href="../../powerSystem/inDepthACDCModel/">In-depth AC and DC Model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Power Flow</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../solution/">Power Flow Solution</a></li><li><a class="tocitem" href="../analysis/">Power Flow Analysis</a></li><li class="is-active"><a class="tocitem" href>Generator Reactive Power Limits</a></li><li><a class="tocitem" href="../inDepthSolution/">In-depth Power Flow Solution</a></li><li><a class="tocitem" href="../inDepthAnalysis/">In-depth Power Flow Analysis</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Power Flow</a></li><li class="is-active"><a href>Generator Reactive Power Limits</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Generator Reactive Power Limits</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/powerFlow/reactiveLimits.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="generatorReactivePowerLimits"><a class="docs-heading-anchor" href="#generatorReactivePowerLimits">Generator Reactive Power Limits</a><a id="generatorReactivePowerLimits-1"></a><a class="docs-heading-anchor-permalink" href="#generatorReactivePowerLimits" title="Permalink"></a></h1><p>By default, the AC power flow methods solve the system of non-linear equations and reveal bus voltage magnitudes and angles ignoring any limits. However, JuliaGrid provides a function <a href="#JuliaGrid.reactivePowerLimit!"><code>reactivePowerLimit!()</code></a> that checks reactive power limits.</p><article class="docstring"><header><a class="docstring-binding" id="JuliaGrid.reactivePowerLimit!" href="#JuliaGrid.reactivePowerLimit!"><code>JuliaGrid.reactivePowerLimit!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>The function checks reactive power limits of the generators. More precisely, after the bus voltage magnitudes and angles have been determined, the function sets the reactive power of the generators within the limits if they are violated, and corresponding PV buses or slack bus will be converted to PQ buses.</p><pre><code class="nohighlight hljs">reactivePowerLimit!(system::PowerSystem, result::Result)</code></pre><p>The function updates the field <code>system.generator.layout.violate</code> to indicate on which buses the limits are violated. If the minimum limits are violated, the mark -1 will appear in the appropriate place, the violation of the maximum limits is marked with 1.</p><p>Further, the function updates fields <code>system.generator.output.reactive</code>, <code>system.bus.supply.reactive</code>,and <code>system.bus.layout.type</code>. For the case when the slack bus is converted the function updates the field <code>system.bus.layout.slackIndex</code>.</p><p>In case the function <a href="../analysis/#JuliaGrid.generator!"><code>generator!()</code></a> is not executed, the function will trigger the execution of this function and will update the field <code>result.generator</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem(&quot;case14.h5&quot;)
acModel!(system)

result = newtonRaphson(system)
stopping = result.algorithm.iteration.stopping
for i = 1:200
    newtonRaphson!(system, result)
    if stopping.active &lt; 1e-8 &amp;&amp; stopping.reactive &lt; 1e-8
        break
    end
end

reactivePowerLimit!(system, result)

result = newtonRaphson(system)
stopping = result.algorithm.iteration.stopping
for i = 1:200
    newtonRaphson!(system, result)
    if stopping.active &lt; 1e-8 &amp;&amp; stopping.reactive &lt; 1e-8
        break
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/cdc3cd923b355d8a9eafb69914cc6795a7a335f0/src/powerFlow/reactiveLimits.jl#L1-L45">source</a></section></article><hr/><p>Furthermore, if there is a slack bus conversion, it is possible to adjust the voltage angles according to the original slack bus.</p><article class="docstring"><header><a class="docstring-binding" id="JuliaGrid.adjustVoltageAngle!" href="#JuliaGrid.adjustVoltageAngle!"><code>JuliaGrid.adjustVoltageAngle!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>The function adjust bus voltage angles according to the original slack bus. More precisely, in the case when the reactive power of the generator is beyond the limit on the slack bus, the function <a href="#JuliaGrid.reactivePowerLimit!"><code>reactivePowerLimit!()</code></a> will convert that bus into PQ bus, and declare the first PV bus in the list as the new slack bus. Then, after the new AC power flow solution is determined, it is possible to correct the voltage angles, so that their values are in accordance with the angle of the original slack bus.</p><pre><code class="nohighlight hljs">adjustVoltageAngle!(system::PowerSystem, result::Result)</code></pre><p>The function updates field <code>result.bus.voltage.angle</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">system = powerSystem(&quot;case14.h5&quot;)
acModel!(system)

result = newtonRaphson(system)
stopping = result.algorithm.iteration.stopping
for i = 1:200
    newtonRaphson!(system, result)
    if stopping.active &lt; 1e-8 &amp;&amp; stopping.reactive &lt; 1e-8
        break
    end
end

reactivePowerLimit!(system, result)

result = newtonRaphson(system)
stopping = result.algorithm.iteration.stopping
for i = 1:200
    newtonRaphson!(system, result)
    if stopping.active &lt; 1e-8 &amp;&amp; stopping.reactive &lt; 1e-8
        break
    end
end

adjustVoltageAngle!(system, result)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mcosovic/JuliaGrid.jl/blob/cdc3cd923b355d8a9eafb69914cc6795a7a335f0/src/powerFlow/reactiveLimits.jl#L102-L141">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../analysis/">« Power Flow Analysis</a><a class="docs-footer-nextpage" href="../inDepthSolution/">In-depth Power Flow Solution »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 1 December 2022 22:55">Thursday 1 December 2022</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
