<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>In-depth DC Model · JuliaGrid</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/tablestyle.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit">JuliaGrid</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Power System</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../model/">Power System Model</a></li><li><a class="tocitem" href="../buildModel/">Build Power System Model</a></li><li><a class="tocitem" href="../inDepthACModel/">In-depth AC Model</a></li><li class="is-active"><a class="tocitem" href>In-depth DC Model</a><ul class="internal"><li><a class="tocitem" href="#branchModelDC"><span>Branch Model</span></a></li><li><a class="tocitem" href="#nodalMatrixDC"><span>System of Equations and Nodal Matrix</span></a></li><li><a class="tocitem" href="#inDepthDCModelReference"><span>References</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Power System</a></li><li class="is-active"><a href>In-depth DC Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>In-depth DC Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/powerSystem/inDepthDCModel.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="inDepthDCModel"><a class="docs-heading-anchor" href="#inDepthDCModel">In-depth DC Model</a><a id="inDepthDCModel-1"></a><a class="docs-heading-anchor-permalink" href="#inDepthDCModel" title="Permalink"></a></h1><p>The DC model is obtained by linearisation of the non-linear model, and it provides an approximate solution. In the typical operating conditions, the difference of bus voltage angles between adjacent buses <span>$(i,j) \in \mathcal{E}$</span> is very small <span>$\theta_{i}-\theta_{j} \approx 0$</span>, which implies <span>$\cos \theta_{ij}\approx 1$</span> and <span>$\sin \theta_{ij} \approx \theta_{ij}$</span>. Further, all bus voltage magnitudes are <span>$V_i \approx 1$</span>, <span>$i \in \mathcal{N}$</span>, and all shunt susceptance elements and branch resistances can be neglected. This implies that the DC model ignores the reactive powers and transmission losses and takes into account only the active powers. Therefore, the DC power flow takes only bus voltage angles <span>$\bm \theta$</span> as state variables.</p><hr/><h2 id="branchModelDC"><a class="docs-heading-anchor" href="#branchModelDC">Branch Model</a><a id="branchModelDC-1"></a><a class="docs-heading-anchor-permalink" href="#branchModelDC" title="Permalink"></a></h2><p>According to the above assumptions, we start from the <a href="../inDepthACModel/#branchModelAC">unified branch model</a>:</p><p class="math-container">\[    \begin{bmatrix}
      \bar{I}_{ij} \\ \bar{I}_{ji}
    \end{bmatrix} = \cfrac{1}{\text{j}x_{ij}}
    \begin{bmatrix}
      \cfrac{1}{\tau_{ij}^2} &amp;&amp; -\alpha_{ij}^*\\
      -\alpha_{ij} &amp;&amp; 1
    \end{bmatrix}
    \begin{bmatrix}
      \bar{V}_{i} \\ \bar{V}_{j}
    \end{bmatrix},\]</p><p>where <span>$\bar{V}_{i} = \text{e}^{\text{j}\theta_{i}}$</span> and <span>$\bar{V}_{j} = \text{e}^{\text{j}\theta_{j}}$</span>. Further, we have:</p><p class="math-container">\[  \begin{aligned}
    \bar{I}_{ij} &amp;= \cfrac{1}{\text{j}x_{ij}} \left[\cfrac{1}{\tau_{ij}^2} \text{e}^{\text{j}\theta_{i}} -
    \cfrac{1}{\tau_{ij}}e^{\text{j}(\phi_{ij} + \theta_j)} \right] \\
    \bar{I}_{ji} &amp;= \cfrac{1}{\text{j}x_{ij}} \left[-\cfrac{1}{\tau_{ij}}e^{\text{j}(\theta_i - \phi_{ij})} + \text{e}^{\text{j}\theta_{j}} \right].
  \end{aligned}\]</p><p>The active power flows are derived as follows:</p><p class="math-container">\[  \begin{aligned}
    P_{ij} &amp;= \Re\{\bar{V}_{i}\bar{I}_{ij}^*\} =
    \Re \left\{\text{j}\cfrac{1}{x_{ij}}
    \left[\cfrac{1}{\tau_{ij}^2} - \cfrac{1}{\tau_{ij}}e^{\text{j}(\theta_i - \theta_j - \phi_{ij})} \right]  \right\} \\
    P_{ji} &amp;= \Re\{\bar{V}_{j}\bar{I}_{ji}^*\} =
    \Re \left\{\text{j}\cfrac{1}{x_{ij}}
   \left[1-\cfrac{1}{\tau_{ij}}e^{\text{j}(-\theta_i +\theta_j + \phi_{ij})} \right]  \right\}.
  \end{aligned}\]</p><p>The real components are:</p><p class="math-container">\[  \begin{aligned}
    P_{ij} &amp;=\cfrac{1}{\tau_{ij}x_{ij}} \sin(\theta_{i} -\theta_{j}-\phi_{ij}) \approx \cfrac{1}{\tau_{ij} x_{ij}} (\theta_{i} -\theta_{j}-\phi_{ij}) \\
    P_{ji} &amp;=\cfrac{1}{\tau_{ij}x_{ij}} \sin(\theta_{j} -\theta_{i}+\phi_{ij}) \approx -\cfrac{1}{\tau_{ij} x_{ij}} (\theta_{i} - \theta_{j}-\phi_{ij}),
  \end{aligned}\]</p><p>where <span>${1}/({\tau_{ij} x_{ij}})$</span> represents the branch admittance in the DC framework.</p><pre><code class="language-julia-repl">julia&gt; system.dcModel.admittance</code></pre><p>We can conclude that <span>$P_{ij}=-P_{ji}$</span> holds. With the DC model, the linear network equations relate active power to bus voltage angles, versus complex currents to complex bus voltages in the AC case <a href="#inDepthDCModelReference">[1]</a>. Consequently, analogous to the <a href="../inDepthACModel/#branchModelAC">unified branch model</a> we can write:</p><p class="math-container">\[  \begin{bmatrix}
    P_{ij} \\ P_{ji}
  \end{bmatrix} = \cfrac{1}{\tau_{ij}x_{ij}}
  \begin{bmatrix}
    1 &amp;&amp; -1\\
    -1 &amp;&amp; 1
  \end{bmatrix}
  \begin{bmatrix}
    \theta_{i} \\ \theta_{j}
  \end{bmatrix} + \cfrac{\phi_{ij}}{\tau_{ij}x_{ij}}
  \begin{bmatrix}
    -1 \\ 1
  \end{bmatrix}.\]</p><hr/><h2 id="nodalMatrixDC"><a class="docs-heading-anchor" href="#nodalMatrixDC">System of Equations and Nodal Matrix</a><a id="nodalMatrixDC-1"></a><a class="docs-heading-anchor-permalink" href="#nodalMatrixDC" title="Permalink"></a></h2><p>As before, let us consider an example of the DC framework, given in Figure 2, that will allow us an easy transition to the general case. We observe system with three buses <span>$\mathcal{N} = \{p, k, q\}$</span> and two branches <span>$\mathcal{E} = \{(p, k), (k, q)\}$</span>, where the bus <span>$k$</span> is incident to the shunt element with conductance <span>${g}_{\text{sh}k}$</span>.</p><img src="../../assets/dc_model.png" class="center"/>
<figcaption>Figure 2: The example with three buses and two branches.</figcaption>
&nbsp;<p>Each branch in the DC framework is described with system of equations as follows:</p><p class="math-container">\[  \begin{bmatrix}
    P_{pk} \\ P_{kp}
  \end{bmatrix} = \cfrac{1}{\tau_{pk}x_{pk}}
  \begin{bmatrix}
    1 &amp;&amp; -1\\
    -1 &amp;&amp; 1
  \end{bmatrix}
  \begin{bmatrix}
    \theta_{p} \\ \theta_{k}
  \end{bmatrix} + \cfrac{\phi_{pk}}{\tau_{pk}x_{pk}}
  \begin{bmatrix}
    -1 \\ 1
  \end{bmatrix}.\]</p><p class="math-container">\[  \begin{bmatrix}
    P_{kq} \\ P_{qk}
  \end{bmatrix} = \cfrac{1}{\tau_{kq}x_{kq}}
  \begin{bmatrix}
    1 &amp;&amp; -1\\
    -1 &amp;&amp; 1
  \end{bmatrix}
  \begin{bmatrix}
    \theta_{k} \\ \theta_{q}
  \end{bmatrix} + \cfrac{\phi_{kq}}{\tau_{kq}x_{kq}}
  \begin{bmatrix}
    -1 \\ 1
  \end{bmatrix}.\]</p><p>The injection active powers into buses are:</p><p class="math-container">\[  \begin{aligned}
    P_{p} &amp;= P_{pk} =\cfrac{1}{\tau_{pk}x_{pk}} \theta_{p} - \cfrac{1}{\tau_{pk}x_{pk}} \theta_{k} - \cfrac{\phi_{pk}}{\tau_{pk}x_{pk}} \\
    P_{k} &amp;= P_{kp} + P_{kq} - P_{\text{sh}k} = -\cfrac{1}{\tau_{pk}x_{pk}} \theta_{p} + \cfrac{1}{\tau_{pk}x_{pk}} \theta_{k} + \cfrac{\phi_{pk}}{\tau_{pk}x_{pk}} +
    \cfrac{1}{\tau_{kq}x_{kq}} \theta_{k} - \cfrac{1}{\tau_{kq}x_{kq}} \theta_{q} - \cfrac{\phi_{kq}}{\tau_{kq}x_{kq}} + {g}_{\text{sh}k} \\
    P_{q} &amp;= {P}_{qk} = -\cfrac{1}{\tau_{kq}x_{kq}} \theta_{k} +\cfrac{1}{\tau_{kq}x_{kq}} \theta_{q} + \cfrac{\phi_{kq}}{\tau_{kq}x_{kq}}.
  \end{aligned}\]</p><p>Note that the active power injected by the shunt element into the bus <span>$i \in \mathcal{N}$</span> is equal to:</p><p class="math-container">\[  P_{\text{sh}i} = \Re\{\bar{V}_{i}\bar{I}_{\text{sh}i}^*\} = \Re\{-\bar{V}_{i}{y}_{\text{sh}i}^*\bar{V}_{i}^*\} = - {g}_{\text{sh}i}.\]</p><p>The system of equations can be written in the matrix form:</p><p class="math-container">\[  \begin{bmatrix}
    P_{p} \\ P_{k} \\ P_{q}
  \end{bmatrix} =
  \begin{bmatrix}
    \cfrac{1}{\tau_{pk}x_{pk}} &amp; - \cfrac{1}{\tau_{pk}x_{pk}} &amp; 0 \\
    -\cfrac{1}{\tau_{pk}x_{pk}} &amp; \cfrac{1}{\tau_{pk}x_{pk}} + \cfrac{1}{\tau_{kq}x_{kq}}  &amp; -\cfrac{1}{\tau_{kq}x_{kq}} \\
    0 &amp; -\cfrac{1}{\tau_{kq}x_{kq}} &amp;\cfrac{1}{\tau_{kq}x_{kq}}
  \end{bmatrix}
  \begin{bmatrix}
    \theta_{p} \\ \theta_{k} \\ \theta_{q}
  \end{bmatrix} +
  \begin{bmatrix}
    - \cfrac{\phi_{pk}}{\tau_{pk}x_{pk}} \\ \cfrac{\phi_{pk}}{\tau_{pk}x_{pk}} - \cfrac{\phi_{kq}}{\tau_{kq}x_{kq}} \\ \cfrac{\phi_{kq}}{\tau_{kq}x_{kq}}
  \end{bmatrix} +
  \begin{bmatrix}
    0 \\ {g}_{\text{sh}k} \\ 0
  \end{bmatrix}.\]</p><p>Next, the system of equations for <span>$i=1,\dots,n$</span> can be written in the matrix form:</p><p class="math-container">\[  \mathbf {P} = \mathbf{B} \bm {\theta} + \mathbf{P_\text{gs}} + \mathbf{P}_\text{sh},\]</p><p>where <span>$\bm \theta \in \mathbb{R}^{n}$</span> is the vector of bus voltage angles.</p><p>The vector <span>$\mathbf {P} \in \mathbb{R}^{n}$</span> contains injected active powers into buses caused by generators and demands. In JuliaGrid, the vector can be recovered using an expression:</p><pre><code class="language-julia-repl">julia&gt; system.bus.supply.active - system.bus.demand.active</code></pre><p>The vector <span>$\mathbf{P_\text{gs}} \in \mathbb{R}^{n}$</span> represents active powers related with non-zero shift angle of transformers.</p><pre><code class="language-julia-repl">julia&gt; system.dcModel.shiftActivePower</code></pre><p>The vector <span>$\mathbf{P}_\text{sh} \in \mathbb{R}^{n}$</span> represents active powers consumed by shunt elements.</p><pre><code class="language-julia-repl">julia&gt; system.bus.shunt.conductance</code></pre><p>The bus or nodal matrix in the DC framework is given as <span>$\mathbf{B} \in \mathbb{C}^{n \times n}$</span>, with elements:</p><ul><li>the diagonal elements, where <span>$i \in \mathcal{N}$</span>,  are equal to:<p class="math-container">\[B_{ii} = \sum\limits_{e \in \mathcal{E},\; i \in e} \cfrac{1}{\tau_{ij}x_{ij}},\]</p></li><li>the non-diagonal elements, where <span>$i = e(1),\;  j = e(2), \; e \in \mathcal{E}$</span>, are equal to:<p class="math-container">\[B_{ij} = -\cfrac{1}{\tau_{ij}x_{ij}}\]</p><p class="math-container">\[B_{ji} = -\cfrac{1}{\tau_{ij}x_{ij}}.\]</p></li></ul><pre><code class="language-julia-repl">julia&gt; system.dcModel.nodalMatrix</code></pre><hr/><h2 id="inDepthDCModelReference"><a class="docs-heading-anchor" href="#inDepthDCModelReference">References</a><a id="inDepthDCModelReference-1"></a><a class="docs-heading-anchor-permalink" href="#inDepthDCModelReference" title="Permalink"></a></h2><p>[1] R. D. Zimmerman, C. E. Murillo-Sanchez, <em>MATPOWER User’s Manual</em>, Version 7.0. 2019.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../inDepthACModel/">« In-depth AC Model</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 26 November 2022 11:20">Saturday 26 November 2022</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
