<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DC Optimal Power Flow · JuliaGrid</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/tablestyle.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaGrid</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../dcPowerFlow/">DC Power Flow</a></li><li class="is-active"><a class="tocitem" href>DC Optimal Power Flow</a><ul class="internal"><li><a class="tocitem" href="#DCOptimizationVariablesManual"><span>Optimization Variables</span></a></li><li><a class="tocitem" href="#DCConstraintFunctionsManual"><span>Constraint Functions</span></a></li><li><a class="tocitem" href="#DCObjectiveFunctionManual"><span>Objective Function</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/acdcModel/">AC and DC Model</a></li><li><a class="tocitem" href="../../tutorials/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../tutorials/dcPowerFlow/">DC Power Flow</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../api/acPowerFlowSolution/">AC Power Flow Solution</a></li><li><a class="tocitem" href="../../api/dcPowerFlowSolution/">DC Power Flow Solution</a></li><li><a class="tocitem" href="../../api/acAnalysis/">AC Power and Current Analysis</a></li><li><a class="tocitem" href="../../api/dcAnalysis/">DC Power Analysis</a></li><li><a class="tocitem" href="../../api/configuration/">Configuration Setup</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>DC Optimal Power Flow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DC Optimal Power Flow</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/manual/dcOptimalPowerFlow.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="DCOptimalPowerFlowManual"><a class="docs-heading-anchor" href="#DCOptimalPowerFlowManual">DC Optimal Power Flow</a><a id="DCOptimalPowerFlowManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCOptimalPowerFlowManual" title="Permalink"></a></h1><p>JuliaGrid utilizes the <a href="https://jump.dev/JuMP.jl/stable/">JuMP</a> package to construct optimal power flow models, allowing users to manipulate these models using the standard functions provided by JuMP. As a result, JuliaGrid supports popular <a href="https://jump.dev/JuMP.jl/stable/packages/solvers/">solvers</a> mentioned in the JuMP documentation to solve the optimization problem.</p><p>To perform the DC optimal power flow, you first need to have the <code>PowerSystem</code> composite type that has been created with the <code>dcModel</code>. After that, create the <code>Model</code> composite type to establish the DC optimal power flow framework using the function:</p><ul><li><a href="../../api/optimaPowerFlow/#JuliaGrid.dcOptimalPowerFlow"><code>dcOptimalPowerFlow</code></a>.</li></ul><p>To solve the DC optimal power flow problem and acquire bus voltage angles and generator active power outputs, make use of the following function:</p><ul><li><a href="manual/@ref solve!(::PowerSystem, ::DCOptimalPowerFlow)"><code>optimize!</code></a>.</li></ul><p>After obtaining the solution for DC optimal power flow, JuliaGrid offers a post-processing analysis function to compute powers associated with buses, branches, and generators:</p><ul><li><a href="manual/@ref power(::PowerSystem, ::DCOptimalPowerFlow)"><code>power</code></a>.</li></ul><p>Moreover, there exist specific functions dedicated to calculating powers related to a particular bus, branch, or generator:</p><ul><li><a href="manual/@ref powerBus(::PowerSystem, ::DCOptimalPowerFlow)"><code>powerBus</code></a>,</li><li><a href="manual/@ref powerBranch(::PowerSystem, ::DCOptimalPowerFlow)"><code>powerBranch</code></a>,</li><li><a href="manual/@ref powerBranch(::PowerSystem, ::DCOptimalPowerFlow)"><code>powerGenerator</code></a>.</li></ul><hr/><h2 id="DCOptimizationVariablesManual"><a class="docs-heading-anchor" href="#DCOptimizationVariablesManual">Optimization Variables</a><a id="DCOptimizationVariablesManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCOptimizationVariablesManual" title="Permalink"></a></h2><p>To set up the DC optimal power flow, we begin by creating the model. To illustrate this, consider the following example:</p><pre><code class="language- hljs">using JuliaGrid # hide
using JuMP, HiGHS # hide

system = powerSystem()

addBus!(system; label = 1, type = 3, angle = 0.17)
addBus!(system; label = 2, type = 2, active = 0.1, conductance = 0.04)
addBus!(system; label = 3, type = 1, active = 0.05)

@branch(minDiffAngle = -pi, maxDiffAngle = pi)
addBranch!(system; label = 1, from = 1, to = 2, reactance = 0.05, longTerm = 0.15)
addBranch!(system; label = 2, from = 1, to = 3, reactance = 0.01, longTerm = 0.10)
addBranch!(system; label = 3, from = 2, to = 3, reactance = 0.01, longTerm = 0.25)

addGenerator!(system; label = 1, bus = 1, active = 3.2, minActive = 0.0, maxActive = 0.5)
addGenerator!(system; label = 2, bus = 2, active = 0.2, minActive = 0.0, maxActive = 0.2)

addActiveCost!(system; label = 1, model = 2, polynomial = [1100.2; 500; 80])
addActiveCost!(system; label = 2, model = 1, piecewise =  [10.85 12.3; 14.77 16.8; 18 18.1])

dcModel!(system)

model = dcOptimalPowerFlow(system, HiGHS.Optimizer)

nothing # hide</code></pre><p>In the DC optimal power flow, the active power outputs of the generators are represented as linear functions of the bus voltage angles. Therefore, the variables in this model are the active power outputs of the generators and the bus voltage angles:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; JuMP.all_variables(model.jump)</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: JuMP not defined</code></pre><p>Furthermore, if there are linear piecewise cost functions with more than one segment, JuliaGrid automatically generates a helper variable for each linear piecewise cost function. Specifically, this cost function is modeled using a constrained cost variable method, where the cost function is replaced by thr helper variable and the set of linear constraints.</p><hr/><h2 id="DCConstraintFunctionsManual"><a class="docs-heading-anchor" href="#DCConstraintFunctionsManual">Constraint Functions</a><a id="DCConstraintFunctionsManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCConstraintFunctionsManual" title="Permalink"></a></h2><p>JuliGrid keeps track of all the references to internally formed constraints in the <code>constraint</code> field of the <code>Model</code> composite type. These constraints are divided into six fields:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; fieldnames(typeof(model.constraint))</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: model not defined</code></pre><hr/><h5 id="Slack-Bus-Constraint"><a class="docs-heading-anchor" href="#Slack-Bus-Constraint">Slack Bus Constraint</a><a id="Slack-Bus-Constraint-1"></a><a class="docs-heading-anchor-permalink" href="#Slack-Bus-Constraint" title="Permalink"></a></h5><p>The <code>slack</code> field contains a reference to the equality constraint associated with the fixed bus voltage angle value of the slack bus. This constraint is set within the <a href="../../api/powerSystemModel/#JuliaGrid.addBus!"><code>addBus!</code></a> function using the <code>angle</code> keyword:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model.constraint.slack.angle</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: model not defined</code></pre><hr/><h5 id="Active-Power-Balance-Constraints"><a class="docs-heading-anchor" href="#Active-Power-Balance-Constraints">Active Power Balance Constraints</a><a id="Active-Power-Balance-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Balance-Constraints" title="Permalink"></a></h5><p>The <code>balance</code> field contains references to the equality constraints associated with the active power balance equations defined for each bus. The constant terms in these equations are determined by the <code>active</code> and <code>conductance</code> keywords within the <a href="../../api/powerSystemModel/#JuliaGrid.addBus!"><code>addBus!</code></a> function. Additionally, if there are phase shift transformers in the system, the constant terms can also be affected by the <code>shiftAngle</code> keyword within the <a href="../../api/powerSystemModel/#JuliaGrid.addBranch!"><code>addBranch!</code></a> function:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model.constraint.balance.active</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: model not defined</code></pre><hr/><h5 id="Voltage-Angle-Limit-Constraints"><a class="docs-heading-anchor" href="#Voltage-Angle-Limit-Constraints">Voltage Angle Limit Constraints</a><a id="Voltage-Angle-Limit-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Voltage-Angle-Limit-Constraints" title="Permalink"></a></h5><p>The <code>limit</code> field contains references to the inequality constraints associated with the minimum and maximum bus voltage angle difference between the &quot;from&quot; and &quot;to&quot; bus ends of each branch. These values are specified using the <code>minDiffAngle</code> and <code>maxDiffAngle</code> keywords within the <a href="../../api/powerSystemModel/#JuliaGrid.addBranch!"><code>addBranch!</code></a> function:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model.constraint.limit.angle</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: model not defined</code></pre><p>Please note that if the limit constraints are set to <code>minDiffAngle = -2π</code> and <code>maxDiffAngle = 2π</code> for the corresponding branch, JuliGrid will omit the corresponding inequality constraint.</p><hr/><h5 id="Active-Power-Rating-Constraints"><a class="docs-heading-anchor" href="#Active-Power-Rating-Constraints">Active Power Rating Constraints</a><a id="Active-Power-Rating-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Rating-Constraints" title="Permalink"></a></h5><p>The <code>rating</code> field contains references to the inequality constraints associated with the active power flow limits at the &quot;from&quot; and &quot;to&quot; bus ends of each branch. These limits are specified using the <code>longTerm</code> keyword within the <a href="../../api/powerSystemModel/#JuliaGrid.addBranch!"><code>addBranch!</code></a> function:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model.constraint.rating.active</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: model not defined</code></pre><hr/><h5 id="Active-Power-Capability-Constraints"><a class="docs-heading-anchor" href="#Active-Power-Capability-Constraints">Active Power Capability Constraints</a><a id="Active-Power-Capability-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Capability-Constraints" title="Permalink"></a></h5><p>The <code>capability</code> field contains references to the inequality constraints associated with the minimum and maximum active power outputs of the generators. These limits are specified using the <code>minActive</code> and <code>maxActive</code> keywords within the <a href="../../api/powerSystemModel/#JuliaGrid.addGenerator!"><code>addGenerator!</code></a> function:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model.constraint.capability.active</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: model not defined</code></pre><hr/><h5 id="Active-Power-Piecewise-Constraints"><a class="docs-heading-anchor" href="#Active-Power-Piecewise-Constraints">Active Power Piecewise Constraints</a><a id="Active-Power-Piecewise-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Piecewise-Constraints" title="Permalink"></a></h5><p>The <code>piecewise</code> field contains references to the inequality constraints associated with the linear piecewise cost function. In this case, the cost function is replaced by the helper variable and the set of linear constraints. These constraints are generated using the <a href="../../api/powerSystemModel/#JuliaGrid.addActiveCost!"><code>addActiveCost!</code></a> function with <code>model = 1</code> specified:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model.constraint.piecewise.active[2]</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: model not defined</code></pre><p>Therefore, for the generator labelled as 2, there is the linear piecewise cost function with two segments. JuliaGrid sets the corresponding inequality constraints for each segment.</p><hr/><h2 id="DCObjectiveFunctionManual"><a class="docs-heading-anchor" href="#DCObjectiveFunctionManual">Objective Function</a><a id="DCObjectiveFunctionManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCObjectiveFunctionManual" title="Permalink"></a></h2><p>The objective function of the DC optimal power flow is constructed using polynomial and linear piecewise cost functions of the generators, which are defined using the <a href="../../api/powerSystemModel/#JuliaGrid.addActiveCost!"><code>addActiveCost!</code></a> functions. It is important to note that only polynomial cost functions up to the second degree are included in the objective. If there are polynomials of higher degrees, JuliaGrid will exclude them from the objective function.</p><p>In the provided example, the objective function that needs to be minimized to obtain the optimal values of the active power outputs of the generators and the bus voltage angles is as follows:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; JuMP.objective_function(model.jump)</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: JuMP not defined</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../dcPowerFlow/">« DC Power Flow</a><a class="docs-footer-nextpage" href="../../tutorials/acdcModel/">AC and DC Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 29 May 2023 14:43">Monday 29 May 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
