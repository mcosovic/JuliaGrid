<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DC Power Flow · JuliaGrid</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/tablestyle.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaGrid</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../powerSystemModel/">Power System Model</a></li><li class="is-active"><a class="tocitem" href>DC Power Flow</a><ul class="internal"><li><a class="tocitem" href="#DCBusTypeModificationManual"><span>Bus Type Modification</span></a></li><li><a class="tocitem" href="#DCPowerFlowSolutionManual"><span>Power Flow Solution</span></a></li><li><a class="tocitem" href="#DCReusingCreatedTypesManual"><span>Reusing Created Types</span></a></li><li><a class="tocitem" href="#DCPowerAnalysisManual"><span>Power Analysis</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/acdcModel/">AC and DC Model</a></li><li><a class="tocitem" href="../../tutorials/dcPowerFlow/">DC Power Flow</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../api/powerFlowSolution/">Power Flow Solution</a></li><li><a class="tocitem" href="../../api/dcPowerAnalysis/">DC Power Analysis</a></li><li><a class="tocitem" href="../../api/configuration/">Configuration Setup</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>DC Power Flow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DC Power Flow</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/manual/dcPowerFlow.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="DCPowerFlowManual"><a class="docs-heading-anchor" href="#DCPowerFlowManual">DC Power Flow</a><a id="DCPowerFlowManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerFlowManual" title="Permalink"></a></h1><p>To perform the DC power flow, you first need to have the <code>PowerSystem</code> composite type that has been created with the <code>dcModel</code>. After that, create the <code>Model</code> composite type to establish the DC power flow framework using the function:</p><ul><li><a href="../../api/powerFlowSolution/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a>.</li></ul><p>To solve the DC power flow problem and acquire bus voltage angles, make use of the following function:</p><ul><li><a href="../../api/powerFlowSolution/#JuliaGrid.solve!-Tuple{PowerSystem, DCPowerFlow}"><code>solve!</code></a>.</li></ul><p>After obtaining the solution for DC power flow, JuliaGrid offers a post-processing analysis function to compute powers associated with buses, branches, and generators:</p><ul><li><a href="manual/@ref power(::PowerSystem, ::DCAnalysis)"><code>power</code></a>.</li></ul><p>Moreover, there exist specific functions dedicated to calculating powers related to a particular bus, branch, or generator:</p><ul><li><a href="manual/@ref powerBus(::PowerSystem, ::DCAnalysis)"><code>powerBus</code></a></li><li><a href="manual/@ref powerBranch(::PowerSystem, ::DCAnalysis)"><code>powerBranch</code></a></li><li><a href="manual/@ref powerBranch(::PowerSystem, ::DCAnalysis)"><code>powerGenerator</code></a>.</li></ul><hr/><h2 id="DCBusTypeModificationManual"><a class="docs-heading-anchor" href="#DCBusTypeModificationManual">Bus Type Modification</a><a id="DCBusTypeModificationManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCBusTypeModificationManual" title="Permalink"></a></h2><p>During the initialization process, the designated slack bus, which is initially set, undergoes examination and can be altered using the <a href="../../api/powerFlowSolution/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a> function. Here is an example:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = 1, type = 3)
addBus!(system; label = 2, type = 2, active = 0.1)
addBus!(system; label = 3, type = 2, active = 0.05)

addGenerator!(system; label = 1, bus = 3, active = 3.2)

dcModel!(system)

model = dcPowerFlow(system)</code></pre><p>In this example, the slack bus (<code>type = 3</code>) corresponds to the bus labelled as 1. However, this bus does not have an in-service generator connected to it. Consequently, JuliaGrid recognizes this as an error and attempts to assign a new slack bus from the available generator buses (<code>type = 2</code>) that have connected in-service generators. In this particular example, the bus labeled as 3 will become the new slack bus.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>The bus that is defined as the slack bus (<code>type = 3</code>) but lacks a connected in-service generator will have its type changed to the demand bus (<code>type = 1</code>). Meanwhile, the first generator bus (<code>type = 2</code>) with an active generator connected to it will be assigned as the new slack bus <code>(type = 3</code>).</p></div></div><hr/><h2 id="DCPowerFlowSolutionManual"><a class="docs-heading-anchor" href="#DCPowerFlowSolutionManual">Power Flow Solution</a><a id="DCPowerFlowSolutionManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerFlowSolutionManual" title="Permalink"></a></h2><p>To solve the DC power flow problem using JuliaGrid, we start by creating the <code>PowerSystem</code> composite type and defining the DC model with the <a href="../../api/powerSystemModel/#JuliaGrid.dcModel!"><code>dcModel!</code></a> function. Here is an example:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = 1, type = 3)
addBus!(system; label = 2, type = 1, active = 0.1)
addBus!(system; label = 3, type = 1, active = 0.05)

addBranch!(system; label = 1, from = 1, to = 2, reactance = 0.05)
addBranch!(system; label = 2, from = 1, to = 3, reactance = 0.01)
addBranch!(system; label = 3, from = 2, to = 3, reactance = 0.01)

addGenerator!(system; label = 1, bus = 1, active = 3.2)

dcModel!(system)</code></pre><p>The <a href="../../api/powerFlowSolution/#JuliaGrid.dcPowerFlow"><code>dcPowerFlow</code></a> function can be used to establish the DC power flow problem. It factorizes the nodal matrix to prepare for determining the bus voltage angles:</p><pre><code class="language-julia hljs">model = dcPowerFlow(system)</code></pre><p>To obtain the bus voltage angles, we can call the <a href="../../api/powerFlowSolution/#JuliaGrid.solve!-Tuple{PowerSystem, DCPowerFlow}"><code>solve!</code></a> function as follows:</p><pre><code class="language-julia hljs">solve!(system, model)</code></pre><p>Once the solution is obtained, the bus voltage angles can be accessed using:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model.voltage.angle</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
  0.0
 -0.0017857142857142857
 -0.001142857142857143</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>We recommend that readers refer to the tutorial on <a href="../../tutorials/dcPowerFlow/#DCPowerFlowTutorials">DC power flow</a> for insights into the implementation.</p></div></div><hr/><h2 id="DCReusingCreatedTypesManual"><a class="docs-heading-anchor" href="#DCReusingCreatedTypesManual">Reusing Created Types</a><a id="DCReusingCreatedTypesManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCReusingCreatedTypesManual" title="Permalink"></a></h2><p>The <code>PowerSystem</code> composite type with its <code>dcModel</code> field can be utilized without restrictions and can be modified automatically using functions such as <a href="../../api/powerSystemModel/#JuliaGrid.shuntBus!"><code>shuntBus!</code></a>, <a href="../../api/powerSystemModel/#JuliaGrid.statusBranch!"><code>statusBranch!</code></a>, <a href="../../api/powerSystemModel/#JuliaGrid.parameterBranch!"><code>parameterBranch!</code></a>, <a href="../../api/powerSystemModel/#JuliaGrid.statusGenerator!"><code>statusGenerator!</code></a>, and <a href="../../api/powerSystemModel/#JuliaGrid.outputGenerator!"><code>outputGenerator!</code></a>. This facilitates sharing the <code>PowerSystem</code> type across various DC power flow analyses.</p><p>Additionally, the <code>Model</code> composite type can be reused to solve the DC power flow problem again in scenarios involving functions such as <a href="../../api/powerSystemModel/#JuliaGrid.shuntBus!"><code>shuntBus!</code></a>, <a href="../../api/powerSystemModel/#JuliaGrid.statusGenerator!"><code>statusGenerator!</code></a>, and <a href="../../api/powerSystemModel/#JuliaGrid.outputGenerator!"><code>outputGenerator!</code></a>, or when there is a need to modify the demand throughout the system.</p><hr/><h5 id="PowerSystem-Composite-Type"><a class="docs-heading-anchor" href="#PowerSystem-Composite-Type">PowerSystem Composite Type</a><a id="PowerSystem-Composite-Type-1"></a><a class="docs-heading-anchor-permalink" href="#PowerSystem-Composite-Type" title="Permalink"></a></h5><p>Once you have created the power system and DC model, you can reuse them for multiple DC power flow analyses. Specifically, you can modify the structure of the power system using the <a href="../../api/powerSystemModel/#JuliaGrid.statusBranch!"><code>statusBranch!</code></a> and <a href="../../api/powerSystemModel/#JuliaGrid.parameterBranch!"><code>parameterBranch!</code></a> functions without having to recreate the system from scratch. As an example, let us say we wish to take the branch labelled 3 out-of-service from the previous example and conduct the DC power flow again:</p><pre><code class="language-julia hljs">statusBranch!(system; label = 3, status = 0)

model = dcPowerFlow(system)
solve!(system, model)</code></pre><hr/><h5 id="Model-Composite-Type"><a class="docs-heading-anchor" href="#Model-Composite-Type">Model Composite Type</a><a id="Model-Composite-Type-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Composite-Type" title="Permalink"></a></h5><p>The <code>Model</code> composite type contains a factorized nodal matrix, which means that users can reuse it when only modifying shunt or generator parameters and keeping the power system&#39;s branch parameters the same. This allows for more efficient computations as the factorization step is not repeated.</p><p>Therefore, by using only the functions <a href="../../api/powerSystemModel/#JuliaGrid.shuntBus!"><code>shuntBus!</code></a>, <a href="../../api/powerSystemModel/#JuliaGrid.statusGenerator!"><code>statusGenerator!</code></a> and <a href="../../api/powerSystemModel/#JuliaGrid.outputGenerator!"><code>outputGenerator!</code></a>, the <code>Model</code> composite type can be reused. For example, to change the output of the generator and compute the bus voltage angles again, one can use the following code:</p><pre><code class="language-julia hljs">outputGenerator!(system; label = 1, active = 0.5)

solve!(system, model)</code></pre><p>Here, the previously factorized nodal matrix is utilized to obtain the new solution, which is more efficient than repeating the factorization step.</p><p>Additionally, users can change the active power demand at the buses by directly accessing the <code>PowerSystem</code> type. They can again reuse the <code>Model</code> composite type and factorized nodal matrix, as demonstrated below:</p><pre><code class="language-julia hljs">system.bus.demand.active[2] = 0.15

solve!(system, model)</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Please be aware that you should not leave the slack bus without generators by using the <a href="../../api/powerSystemModel/#JuliaGrid.statusGenerator!"><code>statusGenerator!</code></a> function, as it can lead to incorrect results when reusing the <code>Model</code> composite type. In such cases, it is necessary to create the new <code>Model</code> type where the new slack bus is designated.</p></div></div><hr/><h2 id="DCPowerAnalysisManual"><a class="docs-heading-anchor" href="#DCPowerAnalysisManual">Power Analysis</a><a id="DCPowerAnalysisManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCPowerAnalysisManual" title="Permalink"></a></h2><p>After obtaining the solution from the DC power flow, we can calculate powers related to buses, branches, and generators using the <a href="manual/@ref power(::PowerSystem, ::DCAnalysis)"><code>power</code></a> function. For instance, let us consider the power system for which we obtained the DC power flow solution:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = 1, type = 3)
addBus!(system; label = 2, type = 1, active = 0.1)
addBus!(system; label = 3, type = 1, active = 0.05)

addBranch!(system; label = 1, from = 1, to = 2, reactance = 0.05)
addBranch!(system; label = 2, from = 1, to = 3, reactance = 0.01)
addBranch!(system; label = 3, from = 2, to = 3, reactance = 0.01)

addGenerator!(system; label = 1, bus = 1, active = 3.2)

dcModel!(system)

model = dcPowerFlow(system)
solve!(system, model)</code></pre><p>After that, we can convert the base power unit to megavolt-amperes (MVA) to display the results in that unit as follows:</p><pre><code class="language-julia hljs">@base(system, MVA, V)</code></pre><p>Now we can calculate the active powers using the following function:</p><pre><code class="language-julia hljs">powers = power(system, model)</code></pre><p>For example, to display the active power injections and flows in megawatts (MW), we can use the following code:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; system.base.power.value * powers.bus.injection.active</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
  15.000000000000002
 -10.0
  -5.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; system.base.power.value * powers.branch.from.active</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
  3.571428571428571
 11.428571428571429
 -6.428571428571426</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>To better understand the powers associated with buses, branches and generators that are calculated by the <a href="manual/@ref power(::PowerSystem, ::DCAnalysis)"><code>power</code></a> function, we suggest referring to the tutorials on <a href="../../tutorials/dcPowerFlow/#DCBusPowersTutorials">DC power flow analysis</a>.</p></div></div><hr/><h5 id="Bus-Powers"><a class="docs-heading-anchor" href="#Bus-Powers">Bus Powers</a><a id="Bus-Powers-1"></a><a class="docs-heading-anchor-permalink" href="#Bus-Powers" title="Permalink"></a></h5><p>Instead of calculating powers for all components, users have the option to compute specific quantities for particular components. In this regard, the following function can be utilized to calculate active powers associated with a specific bus:</p><pre><code class="language-julia hljs">powers = powerBus(system, model; label = 1)</code></pre><p>For instance, to display the active power injections in megawatts (MW), the following code can be used:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; system.base.power.value * powers.injection.active</code><code class="nohighlight hljs ansi" style="display:block;">15.000000000000002</code></pre><hr/><h5 id="Branch-Powers"><a class="docs-heading-anchor" href="#Branch-Powers">Branch Powers</a><a id="Branch-Powers-1"></a><a class="docs-heading-anchor-permalink" href="#Branch-Powers" title="Permalink"></a></h5><p>Similarly, we can compute the active powers related to a particular branch using the following function:</p><pre><code class="language-julia hljs">powers = powerBranch(system, model; label = 2)</code></pre><p>For instance, to display the active power flows at branches in megawatts (MW), we can use the following code:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; system.base.power.value * powers.from.active</code><code class="nohighlight hljs ansi" style="display:block;">11.428571428571429</code></pre><hr/><h5 id="Generator-Power"><a class="docs-heading-anchor" href="#Generator-Power">Generator Power</a><a id="Generator-Power-1"></a><a class="docs-heading-anchor-permalink" href="#Generator-Power" title="Permalink"></a></h5><p>Finally, we can compute the active output power of a particular generator using the function:</p><pre><code class="language-julia hljs">powers = powerGenerator(system, model; label = 1)</code></pre><p>To display the active power produced by generators in megawatts (MW), we can use the following code:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; system.base.power.value * powers.output.active</code><code class="nohighlight hljs ansi" style="display:block;">15.000000000000002</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../powerSystemModel/">« Power System Model</a><a class="docs-footer-nextpage" href="../../tutorials/acdcModel/">AC and DC Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 22 May 2023 13:50">Monday 22 May 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
