<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DC State Estimation · JuliaGrid</title><meta name="title" content="DC State Estimation · JuliaGrid"/><meta property="og:title" content="DC State Estimation · JuliaGrid"/><meta property="twitter:title" content="DC State Estimation · JuliaGrid"/><meta name="description" content="Documentation for JuliaGrid."/><meta property="og:description" content="Documentation for JuliaGrid."/><meta property="twitter:description" content="Documentation for JuliaGrid."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/tablestyle.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaGrid</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../measurementModel/">Measurement Model</a></li><li class="is-active"><a class="tocitem" href>DC State Estimation</a><ul class="internal"><li><a class="tocitem" href="#DCSEBusTypeModificationManual"><span>Bus Type Modification</span></a></li><li><a class="tocitem" href="#WLSStateEstimationSolutionManual"><span>WLS State Estimation Solution</span></a></li><li><a class="tocitem" href="#LAVtateEstimationSolutionManual"><span>LAV State Estimation Solution</span></a></li><li><a class="tocitem" href="#DCSEPowerAnalysisManual"><span>Power Analysis</span></a></li><li><a class="tocitem" href="#DCStateEstimationReferenceManual"><span>References</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/acdcModel/">AC and DC Model</a></li><li><a class="tocitem" href="../../tutorials/acPowerFlow/">AC Power Flow</a></li><li><a class="tocitem" href="../../tutorials/dcPowerFlow/">DC Power Flow</a></li><li><a class="tocitem" href="../../tutorials/acOptimalPowerFlow/">AC Optimal Power Flow</a></li><li><a class="tocitem" href="../../tutorials/dcOptimalPowerFlow/">DC Optimal Power Flow</a></li><li><a class="tocitem" href="../../tutorials/measurementModel/">Measurement Model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/powerSystemModel/">Power System Model</a></li><li><a class="tocitem" href="../../api/powerFlow/">Power Flow</a></li><li><a class="tocitem" href="../../api/optimalPowerFlow/">Optimal Power Flow</a></li><li><a class="tocitem" href="../../api/measurementModel/">Measurement Model</a></li><li><a class="tocitem" href="../../api/stateEstimation/">State Estimation</a></li><li><a class="tocitem" href="../../api/analysis/">Power and Current Analysis</a></li><li><a class="tocitem" href="../../api/configuration/">Configuration Setup</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>DC State Estimation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DC State Estimation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/manual/dcStateEstimation.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="DCStateEstimationManual"><a class="docs-heading-anchor" href="#DCStateEstimationManual">DC State Estimation</a><a id="DCStateEstimationManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCStateEstimationManual" title="Permalink"></a></h1><p>To perform the DC power flow, you first need to have the <code>PowerSystem</code> composite type that has been created with the <code>dc</code> model, alongside the <code>Measurement</code> composite type that retains measurement data. Subsequently, we can formulate the DC state estimation model encapsulated within the abstract type <code>DCStateEstimation</code> using the subsequent function:</p><ul><li><a href="../../api/stateEstimation/#JuliaGrid.dcStateEstimation"><code>dcStateEstimation</code></a>.</li></ul><p>For resolving the DC state estimation problem employing either the weighted least-squares (WLS) or the least absolute value (LAV) approach and obtaining bus voltage angles, utilize the following function:</p><ul><li><a href="../../api/stateEstimation/#JuliaGrid.solve!-Tuple{PowerSystem, DCStateEstimationWLS}"><code>solve!</code></a>.</li></ul><p>After obtaining the solution for DC state estimation, JuliaGrid offers a post-processing analysis function to compute active powers associated with buses and branches:</p><ul><li><a href="../../api/analysis/#JuliaGrid.power!-Tuple{PowerSystem, ACPowerFlow}"><code>power!</code></a>.</li></ul><p>Additionally, there are specialized functions dedicated to calculating specific types of active powers related to particular buses or branches:</p><ul><li><a href="../../api/analysis/#JuliaGrid.injectionPower-Tuple{PowerSystem, AC}"><code>injectionPower</code></a>,</li><li><a href="../../api/analysis/#JuliaGrid.supplyPower-Tuple{PowerSystem, ACPowerFlow}"><code>supplyPower</code></a>,</li><li><a href="../../api/analysis/#JuliaGrid.fromPower-Tuple{PowerSystem, DC}"><code>fromPower</code></a>,</li><li><a href="../../api/analysis/#JuliaGrid.toPower-Tuple{PowerSystem, DC}"><code>toPower</code></a>.</li></ul><hr/><h2 id="DCSEBusTypeModificationManual"><a class="docs-heading-anchor" href="#DCSEBusTypeModificationManual">Bus Type Modification</a><a id="DCSEBusTypeModificationManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCSEBusTypeModificationManual" title="Permalink"></a></h2><p>Similar to the explanation provided in the <a href="../dcPowerFlow/#DCBusTypeModificationManual">Bus Type Modification</a> section, when executing the <a href="../../api/stateEstimation/#JuliaGrid.dcStateEstimation"><code>dcStateEstimation</code></a> function, the initially designated slack bus undergoes evaluation and may be adjusted. If the bus designated as the slack bus (<code>type = 3</code>) lacks a connected in-service generator, its type will be changed to the demand bus (<code>type = 1</code>). Conversely, the first generator bus (<code>type = 2</code>) with an active in-service generator linked to it will be reassigned as the new slack bus (<code>type = 3</code>).</p><hr/><h2 id="WLSStateEstimationSolutionManual"><a class="docs-heading-anchor" href="#WLSStateEstimationSolutionManual">WLS State Estimation Solution</a><a id="WLSStateEstimationSolutionManual-1"></a><a class="docs-heading-anchor-permalink" href="#WLSStateEstimationSolutionManual" title="Permalink"></a></h2><p>To solve the DC state estimation and derive weighted least-squares (WLS) estimates using JuliaGrid, the process initiates by defining the composite types <code>PowerSystem</code> and <code>Measurement</code>. Here is an illustrative example:</p><pre><code class="language-julia hljs">system = powerSystem()

addBus!(system; label = &quot;Bus 1&quot;, type = 3)
addBus!(system; label = &quot;Bus 2&quot;, type = 1, active = 0.1)
addBus!(system; label = &quot;Bus 3&quot;, type = 1, active = 0.05)
addBranch!(system; label = &quot;Branch 1&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 2&quot;, reactance = 0.05)
addBranch!(system; label = &quot;Branch 2&quot;, from = &quot;Bus 1&quot;, to = &quot;Bus 3&quot;, reactance = 0.01)
addBranch!(system; label = &quot;Branch 3&quot;, from = &quot;Bus 2&quot;, to = &quot;Bus 3&quot;, reactance = 0.01)
addGenerator!(system; label = &quot;Generator 1&quot;, bus = &quot;Bus 1&quot;, active = 3.2)
dcModel!(system)

device = measurement()

addWattmeter!(system, device; bus = &quot;Bus 1&quot;, active = 0.13, variance = 1e-3)
addWattmeter!(system, device; bus = &quot;Bus 3&quot;, active = -0.02, variance = 1e-2)
addWattmeter!(system, device; from = &quot;Branch 1&quot;, active = 0.04, variance = 1e-4)
addWattmeter!(system, device; to = &quot;Branch 2&quot;, active = -0.11, variance = 1e-4)</code></pre><p>The <a href="../../api/stateEstimation/#JuliaGrid.dcStateEstimation"><code>dcStateEstimation</code></a> function serves to establish the DC state estimation problem:  </p><pre><code class="language-julia hljs">analysis = dcStateEstimation(system, device)</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Here, the user triggers LU factorization as the default method for solving the DC state estimation problem. However, the user also has the option to select alternative factorization methods such as <code>LDLt</code> or <code>QR</code>, for instance.</p></div></div><p>To obtain the bus voltage angles, the <a href="../../api/stateEstimation/#JuliaGrid.solve!-Tuple{PowerSystem, DCStateEstimationWLS}"><code>solve!</code></a> function can be invoked as shown:</p><pre><code class="language-julia hljs">solve!(system, analysis)</code></pre><p>Upon obtaining the solution, access the bus voltage angles using:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, analysis.voltage.angle)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 0.0
Bus 2: -0.0024741853513183883
Bus 3: -0.0010827180728575222</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>We recommend that readers refer to the tutorial on [DC State Estimation] for insights into the implementation.</p></div></div><hr/><h5 id="Orthogonal-Factorization"><a class="docs-heading-anchor" href="#Orthogonal-Factorization">Orthogonal Factorization</a><a id="Orthogonal-Factorization-1"></a><a class="docs-heading-anchor-permalink" href="#Orthogonal-Factorization" title="Permalink"></a></h5><p>When users opt for orthogonal factorization, specifying the <code>QR</code> argument in the <a href="../../api/stateEstimation/#JuliaGrid.dcStateEstimation"><code>dcStateEstimation</code></a> function, they are not solely choosing to solve the WLS problem using QR factorization. Instead, JuliaGrid implements a more robust approach to obtain the WLS estimator, especially beneficial when significant differences exist among measurement variances <a href="#DCStateEstimationReferenceManual">[1, Sec. 3.2]</a>. To derive this estimator, execute the following sequence of functions:</p><pre><code class="language-julia hljs">analysis = dcStateEstimation(system, device, QR)
solve!(system, analysis)</code></pre><hr/><h2 id="LAVtateEstimationSolutionManual"><a class="docs-heading-anchor" href="#LAVtateEstimationSolutionManual">LAV State Estimation Solution</a><a id="LAVtateEstimationSolutionManual-1"></a><a class="docs-heading-anchor-permalink" href="#LAVtateEstimationSolutionManual" title="Permalink"></a></h2><p>The LAV method presents an alternative estimation technique known for its increased robustness compared to WLS. While the WLS method relies on specific assumptions regarding measurement errors, robust estimators like LAV are designed to maintain unbiasedness even in the presence of various types of measurement errors and outliers. This characteristic often eliminates the need for extensive bad data processing procedures <a href="#DCStateEstimationReferenceManual">[1, Ch. 6]</a>. However, it is important to note that achieving robustness typically involves increased computational complexity.</p><p>To obtain an LAV estimator, users need to employ one of the <a href="https://jump.dev/JuMP.jl/stable/packages/solvers/">solvers</a> listed in the JuMP documentation. In many common scenarios, the Ipopt solver proves sufficient to obtain a solution:</p><pre><code class="language-julia hljs">using Ipopt

analysis = dcStateEstimation(system, device, Ipopt.Optimizer)
solve!(system, analysis)</code></pre><hr/><h2 id="DCSEPowerAnalysisManual"><a class="docs-heading-anchor" href="#DCSEPowerAnalysisManual">Power Analysis</a><a id="DCSEPowerAnalysisManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCSEPowerAnalysisManual" title="Permalink"></a></h2><p>After obtaining the solution from the DC state estimation, calculating powers related to buses and branches is facilitated by using the <a href="../../api/analysis/#JuliaGrid.power!-Tuple{PowerSystem, ACPowerFlow}"><code>power!</code></a> function. To illustrate this with a continuation of our previous example, we can compute active powers using the following function:</p><pre><code class="language-julia hljs">power!(system, analysis)</code></pre><p>For example, active power injections corresponding to buses are:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; print(system.bus.label, analysis.power.injection.active)</code><code class="nohighlight hljs ansi" style="display:block;">Bus 1: 0.19049504493523273
Bus 2: -0.16262400144114508
Bus 3: -0.027871043494087644</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>To better understand the powers associated with buses, and branches that are calculated by the <a href="../../api/analysis/#JuliaGrid.power!-Tuple{PowerSystem, ACPowerFlow}"><code>power!</code></a> function, we suggest referring to the tutorials on.</p></div></div><p>To calculate specific quantities related to particular buses or branches, rather than computing values for all buses and branches, users can utilize one of the provided functions below.</p><hr/><h5 id="Active-Power-Injection"><a class="docs-heading-anchor" href="#Active-Power-Injection">Active Power Injection</a><a id="Active-Power-Injection-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Injection" title="Permalink"></a></h5><p>To calculate active power injection associated with a specific bus, the function can be used:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; active = injectionPower(system, analysis; label = &quot;Bus 1&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">0.19049504493523273</code></pre><hr/><h5 id="Active-Power-Injection-from-Generators"><a class="docs-heading-anchor" href="#Active-Power-Injection-from-Generators">Active Power Injection from Generators</a><a id="Active-Power-Injection-from-Generators-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Injection-from-Generators" title="Permalink"></a></h5><p>To calculate active power injection from the generators at a specific bus, the function can be used:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; active = supplyPower(system, analysis; label = &quot;Bus 1&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">0.19049504493523273</code></pre><hr/><h5 id="Active-Power-Flow"><a class="docs-heading-anchor" href="#Active-Power-Flow">Active Power Flow</a><a id="Active-Power-Flow-1"></a><a class="docs-heading-anchor-permalink" href="#Active-Power-Flow" title="Permalink"></a></h5><p>Similarly, we can compute the active power flow at both the &quot;from&quot; and &quot;to&quot; bus ends of the specific branch by utilizing the provided functions below:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; active = fromPower(system, analysis; label = &quot;Branch 2&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">0.14004946688146447</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; active = toPower(system, analysis; label = &quot;Branch 2&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">-0.14004946688146447</code></pre><hr/><h2 id="DCStateEstimationReferenceManual"><a class="docs-heading-anchor" href="#DCStateEstimationReferenceManual">References</a><a id="DCStateEstimationReferenceManual-1"></a><a class="docs-heading-anchor-permalink" href="#DCStateEstimationReferenceManual" title="Permalink"></a></h2><p>[1] A. Abur and A. Exposito, <em>Power System State Estimation: Theory and Implementation</em>, ser. Power Engineering. Taylor &amp; Francis, 2004.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../measurementModel/">« Measurement Model</a><a class="docs-footer-nextpage" href="../../tutorials/acdcModel/">AC and DC Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Thursday 21 December 2023 13:12">Thursday 21 December 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
