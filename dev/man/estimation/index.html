<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>State Estimation · JuliaGrid</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit">JuliaGrid</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../input/">Input Data</a></li><li><a class="tocitem" href="../flow/">Power Flow</a></li><li><a class="tocitem" href="../optimalflow/">Optimal Power Flow</a></li><li class="is-active"><a class="tocitem" href>State Estimation</a><ul class="internal"><li><a class="tocitem" href="#Run-Settings"><span>Run Settings</span></a></li><li><a class="tocitem" href="#Variable-Arguments"><span>Variable Arguments</span></a></li><li><a class="tocitem" href="#Keyword-Arguments"><span>Keyword Arguments</span></a></li><li><a class="tocitem" href="#Input-Data-Structure"><span>Input Data Structure</span></a></li><li><a class="tocitem" href="#Output-Data-Structure"><span>Output Data Structure</span></a></li></ul></li><li><a class="tocitem" href="../generator/">Measurement Generator</a></li><li><span class="tocitem">Theoretical Background</span><ul><li><a class="tocitem" href="../tbbranch/">Network Equations</a></li><li><a class="tocitem" href="../tbflow/">Power Flow</a></li><li><a class="tocitem" href="../tboptimal/">Optimal Power Flow</a></li><li><a class="tocitem" href="../tbestimate/">State Estimation</a></li><li><a class="tocitem" href="../tbestimaterest/">State Estimation Routines</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>State Estimation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>State Estimation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/man/estimation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="runse"><a class="docs-heading-anchor" href="#runse">State Estimation</a><a id="runse-1"></a><a class="docs-heading-anchor-permalink" href="#runse" title="Permalink"></a></h1><p>To solve the state estimation problem three different modules are available:</p><ul><li><a href="../tbestimate/#nonlinearse">non-linear state estimation</a>,</li><li><a href="../tbestimate/#lineardcse">linear DC state estimation</a>,</li><li><a href="../tbestimate/#linearpmuse">linear state estimation with PMUs only</a>.</li></ul><p>By default settings, the state estimation algorithms use the weighted least-squares estimation, but it is also possible to use the <a href="../tbestimaterest/#lav">least absolute value estimation</a>.  </p><p>The non-linear state estimation is implemented using the following features:</p><ul><li>the state vector is given in the polar coordinate system,</li><li>phasor measurements are given in the polar coordinate system,</li><li>measurement errors are uncorrelated,</li><li>the slack bus is included in the state estimation formulation.</li></ul><p>The linear state estimation with PMUs is implemented using the following features:</p><ul><li>the state vector is given in the rectangular coordinate system,</li><li>phasor measurements are transformed from polar to rectangular coordinates,</li><li>the covariance matrix is transformed from polar to rectangular coordinates,</li><li>the slack bus is not included in the state estimation formulation.</li></ul><p>Besides state estimation algorithms, we have implemented the <a href="../tbestimaterest/#baddata">bad data processing</a> using the largest normalized residual test. The routine proceeds with bad data analysis after the estimation process is finished, in the repetitive process of identifying and eliminating bad data measurements one after another.</p><p>The <a href="../tbestimaterest/#observability">observability analysis</a> with the identification of observable islands and observability restoration can be done using numerical or topological methods, where pseudo-measurements are chosen in place of measurements that are marked as out-of-service in the input DATA.</p><hr/><h2 id="Run-Settings"><a class="docs-heading-anchor" href="#Run-Settings">Run Settings</a><a id="Run-Settings-1"></a><a class="docs-heading-anchor-permalink" href="#Run-Settings" title="Permalink"></a></h2><p>Input arguments of the function <code>runse()</code> describe the state estimation settings. The order of inputs and their appearance is arbitrary, with only DATA input required. Still, for the methodological reasons, the syntax examples follow a certain order.</p><h4 id="Syntax"><a class="docs-heading-anchor" href="#Syntax">Syntax</a><a id="Syntax-1"></a><a class="docs-heading-anchor-permalink" href="#Syntax" title="Permalink"></a></h4><pre><code class="language-julia-repl">runse(DATA, METHOD)
runse(DATA, METHOD, ROUTINE)
runse(DATA, METHOD, ROUTINE, DISPLAY)
runse(DATA, METHOD, ROUTINE, DISPLAY; NONLINEAR)
runse(DATA, METHOD, ROUTINE, DISPLAY; NONLINEAR, ATTACH)
runse(DATA, METHOD, ROUTINE, DISPLAY; NONLINEAR, ATTACH, SAVE)</code></pre>&nbsp;<h4 id="Description"><a class="docs-heading-anchor" href="#Description">Description</a><a id="Description-1"></a><a class="docs-heading-anchor-permalink" href="#Description" title="Permalink"></a></h4><pre><code class="language-julia-repl">runse(DATA, METHOD) solves the state estimation problem
runse(DATA, METHOD, ROUTINE) sets the least absolute values estimation, bad data and observability analysis
runse(DATA, METHOD, LAVBAD, DISPLAY) shows results in the terminal
runse(DATA, METHOD, ROUTINE, DISPLAY; NONLINEAR) sets variables for the nonlinear state estimation
runse(DATA, METHOD, LAVBAD, DISPLAY; NONLINEAR, ATTACH) sets various options mostly related with ROUTINE
runse(DATA, METHOD, LAVBAD, DISPLAY; NONLINEAR, ATTACH, SAVE) exports results</code></pre>&nbsp;<h4 id="Output"><a class="docs-heading-anchor" href="#Output">Output</a><a id="Output-1"></a><a class="docs-heading-anchor-permalink" href="#Output" title="Permalink"></a></h4><pre><code class="language-julia-repl">results, measurements, system, info = runse() returns results, measurements, power system and summary data</code></pre>&nbsp;<h4 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h4><pre><code class="language-julia-repl">results, = runse(&quot;case14se.xlsx&quot;, &quot;nonlinear&quot;, &quot;main&quot;, &quot;estimate&quot;)</code></pre><pre><code class="language-julia-repl">results, = runse(&quot;case14se.xlsx&quot;, &quot;nonlinear&quot;, &quot;estimate&quot;; start = &quot;flat&quot;)</code></pre><pre><code class="language-julia-repl">results, = runse(&quot;case14se.xlsx&quot;, &quot;dc&quot;, &quot;main&quot;, &quot;estimate&quot;, &quot;error&quot;, &quot;flow&quot;)</code></pre><pre><code class="language-julia-repl">results, = runse(&quot;case30se.h5&quot;, &quot;dc&quot;, &quot;estimate&quot;; bad = [&quot;pass&quot; 2])</code></pre><pre><code class="language-julia-repl">results, = runse(&quot;case14se.xlsx&quot;, &quot;pmu&quot;, &quot;estimate&quot;, &quot;lav&quot;)</code></pre><pre><code class="language-julia-repl">data = runmg(&quot;case14.h5&quot;; runflow = 1, pmuset = &quot;complete&quot;, pmuvariance = [&quot;complete&quot; 1e-4])
results, = runse(data, &quot;pmu&quot;, &quot;estimate&quot;)</code></pre><pre><code class="language-julia-repl">data = runmg(&quot;case14.h5&quot;; legacyset = [&quot;redundancy&quot; 1.4], legacyvariance = [&quot;complete&quot; 1e-4])
results = runse(data, &quot;dc&quot;; observe = [&quot;islandBP&quot; &quot;pivot&quot; 1e-6 &quot;Pi&quot; 1e4])</code></pre><hr/><h2 id="Variable-Arguments"><a class="docs-heading-anchor" href="#Variable-Arguments">Variable Arguments</a><a id="Variable-Arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Variable-Arguments" title="Permalink"></a></h2><p>The state estimation function <code>runse()</code> receives a group of variable number of arguments: DATA, METHOD, ROUTINE and DISPLAY.</p><table><tr><th style="text-align: left">DATA</th><th style="text-align: left">input power system with measurements data</th></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Example</strong></td><td style="text-align: left"><code>&quot;case30se.h5&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">loads the power system with measurements data using h5-file from the package</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Example</strong></td><td style="text-align: left"><code>&quot;case14se.xlsx&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">loads the power system with measurements data using xlsx-file from the package</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Example</strong></td><td style="text-align: left"><code>&quot;C:/case14se.h5&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">loads the power system with measurements data using h5-file from a custom path</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Example</strong></td><td style="text-align: left"><code>&quot;C:/case14se.xlsx&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">loads the power system with measurements data using xlsx-file from a custom path</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Example</strong></td><td style="text-align: left"><code>data = runmg()</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">loads the power system with measurements data using the measurement generator function</td></tr></table>&nbsp;<table><tr><th style="text-align: left">METHOD</th><th style="text-align: left">solves the state estimation problem</th></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;nonlinear&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">runs the non-linear state estimation based on the weighted least-squares, <code>default METHOD setting</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;pmu&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">runs the linear weighted least-squares state estimation only with PMUs where measurement covariances are neglected</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;dc&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">runs the linear weighted least-squares DC state estimation</td></tr></table>&nbsp;<table><tr><th style="text-align: left">ROUTINE</th><th style="text-align: left">sets the least absolute values estimation, bad data and observability analysis</th></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;lav&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">runs the non-linear or linear state estimation using the least absolute value estimation with <code>&quot;GLPK&quot;</code> solver as <code>default settings</code> (see ATTACH to change <code>default settings</code>)</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;bad&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">runs the bad data processing for the weighted least-squares method, where the bad data identification threshold is set to <code>&quot;threshold&quot; = 3</code>, with the maximum number of <code>&quot;passes&quot; = 1</code>, where the critical measurement criteria is equal to <code>&quot;critical&quot; = 1e-10</code> (see ATTACH to change <code>default settings</code>)</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;observe&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">runs the observability analysis where identification of the observable islands is accomplished by the topological method, while the observability restoration is performed using numerical method with zero pivot threshold equal to <code>&quot;pivot&quot; = 1e-10</code>, where the restore routine takes only power injection measurements with variances in per-unit <code>&quot;Pi&quot; = 1e5</code> (see ATTACH to change <code>default settings</code>)</td></tr></table>&nbsp;<table><tr><th style="text-align: left">DISPLAY</th><th style="text-align: left">shows results in the terminal</th></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;main&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">shows main bus data display in the Julia REPL</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;flow&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">shows power flow data display in the Julia REPL</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;estimate&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">shows estimation data display in the Julia REPL</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>&quot;error&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">shows evaluation data display in the Julia REPL</td></tr></table><hr/><h2 id="Keyword-Arguments"><a class="docs-heading-anchor" href="#Keyword-Arguments">Keyword Arguments</a><a id="Keyword-Arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Keyword-Arguments" title="Permalink"></a></h2><p>The state estimation function <code>runse()</code> receives a group of arguments by keyword: ATTACH and SAVE.</p><table><tr><th style="text-align: left">NONLINEAR</th><th style="text-align: left">sets variables for the nonlinear state estimation</th></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>max = value</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">specifies the maximum number of the Gauss-Newton iterations, <code>default setting: max = 100</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>stop = value</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">specifies the stopping criteria for the Gauss-Newton method, <code>default setting: stop = 1.0e-8</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>start = &quot;warm&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">the Gauss-Newton initial point defined as the one applied in the AC power flow, <code>default start setting</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>start = &quot;flat&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">unique the Gauss-Newton initial point for voltage angles equal to 0 and magnitudes equal to 1</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>start = &quot;random&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">the Gauss-Newton initial point defined using random perturbation between -0.5 and 0.5 of voltage angles in degrees, and 0.98 and 1.02 of voltage magnitudes in per-units</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>start = &quot;[&quot;Vi&quot; min max &quot;Ti&quot; min max]</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">change default options for <code>random</code> Gauss-Newton initial point</td></tr></table>&nbsp;<table><tr><th style="text-align: left">ATTACH</th><th style="text-align: left">sets various options mostly related with ROUTINE</th></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>lav = &quot;Ipopt&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">the least absolute value estimation can be run using <code>&quot;Ipopt&quot;</code> optimization solver, <code>default setting: lav = &quot;GLPK&quot;</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>bad = [&quot;pass&quot; value &quot;threshold&quot; value &quot;critical&quot; value]</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">when using the weighted least-squares method bad data processing can be run using the bad data identification <code>threshold</code>, with the maximum number of <code>passes</code>, where <code>critical</code> measurements are marked according to the name-value pair setting <code>&quot;critical&quot; value</code>, <code>default setting: bad = [&quot;pass&quot; 1 &quot;threshold&quot; 3 &quot;critical&quot; 1e-10]</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>observe = [&quot;flow&quot;]</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">the keyword <code>&quot;flow&quot;</code> allows the determination of the flow observable islands only</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>observe = [&quot;islandBP&quot; &quot;islandMax&quot; value &quot;islandBreak&quot; value &quot;islandStop&quot; value &quot;islandTreshold&quot; value]</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">determination of the maximal observable islands is done using the Gaussian belief propagation method, where the maximal number of iterations of the Gaussian belief propagation algorithm is equal to <code>&quot;islandMax&quot; value</code>, while the algorithm begins to apply <code>&quot;islandStop&quot; value</code> criterion after <code>&quot;islandBreak&quot; value</code> iterations; if the state variable marginal variance is below <code>&quot;islandTreshold&quot; value</code>, the state variable is observable, otherwise the state variable is unobservable, <code>default setting: observe = [&quot;islandMax&quot; 2000 &quot;islandBreak&quot; 10 &quot;islandStop&quot; 1.0 &quot;islandTreshold&quot; 1e5]</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>observe = [&quot;pivot&quot; value &quot;Pij&quot; value &quot;Pi&quot; value &quot;Ti&quot; value]</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">determination of the maximal observable islands is done using the topological method, while the observability restoration can be run using the zero <code>pivot</code> identification <code>threshold</code>, where active power flow <code>&quot;Pij&quot; value</code>, active power injection <code>&quot;Pi&quot; value</code> and/or bus voltage angle <code>&quot;Ti&quot; value</code> can be forced to restore observability, with measurement variances equal to <code>values</code>, <code>default setting: observe = [&quot;pivot&quot; 1e-10 &quot;Pi&quot; 1e5]</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>observe = [&quot;restoreBP&quot; &quot;restoreMax&quot; value &quot;Pi&quot; value]</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">the observability restoration is done using the Gaussian belief propagation method, where the maximal number of iterations of the Gaussian belief propagation algorithm is equal to <code>&quot;restoreMax&quot; value</code>, and active power injection <code>&quot;Pi&quot; value</code> can be forced to restore observability, with measurement variances equal to <code>value</code>, <code>default setting: observe = [&quot;restoreBP&quot; &quot;restoreMax&quot; 100 &quot;Pi&quot; 1e5]</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>solve = &quot;builtin&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">built-in linear system solver, <code>default solve setting</code></td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>solve = &quot;lu&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">LU linear system solver</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>covarinace = 1</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">sets the covariance matrix model for the linear state estimation with PMUs only (METHOD <code>&quot;pmu&quot;</code>) where the matrix contains measurement variances and covariances <code>default setting: covarinace = 0</code></td></tr></table>&nbsp;<div class="admonition is-info"><header class="admonition-header">Observability Analysis</header><div class="admonition-body"><p>The observability analysis consists of two parts: the identification of observable islands and observability restoration, and JuliaGrid allows combining different algorithms to perform the observability analysis.</p><p>For example, using the command:</p><pre><code class="language-julia-repl">observe = [&quot;islandBP&quot;]</code></pre><p>the identification of the maximal observable islands will be conducted using the Gaussian belief propagation method, while the observability restoration will be done using the numerical method. Similarly, using the command:</p><pre><code class="language-julia-repl">observe = [&quot;restoreBP&quot;]</code></pre><p>the identification of the maximal observable islands will be conducted using the topological method, while the observability restoration will be done using the Gaussian belief propagation method.</p><p>The keyword <code>&quot;flow&quot;</code> overwrite the identification of maximal observable islands method, and immediately passes to the observability restoration method according to the flow islands.</p></div></div>&nbsp;<table><tr><th style="text-align: left">SAVE</th><th style="text-align: left">exports results</th></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>save = &quot;path/name.h5&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">saves results in the h5-file</td></tr><tr><td style="text-align: left"></td><td style="text-align: left"></td></tr><tr><td style="text-align: left"><strong>Command</strong></td><td style="text-align: left"><code>save = &quot;path/name.xlsx&quot;</code></td></tr><tr><td style="text-align: left"><strong>Description</strong></td><td style="text-align: left">saves results in the xlsx-file</td></tr></table><hr/><h2 id="Input-Data-Structure"><a class="docs-heading-anchor" href="#Input-Data-Structure">Input Data Structure</a><a id="Input-Data-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#Input-Data-Structure" title="Permalink"></a></h2><p>The function supports two input types: <code>.h5</code> or <code>.xlsx</code> file extensions. The measurement input data structure consists of variables <code>pmuVoltage</code> and <code>pmuCurrent</code> associated with phasor measurements, and <code>legacyFlow</code>, <code>legacyCurrent</code>, <code>legacyInjection</code> and <code>legacyVoltage</code> associated with legacy measurements. Further, the function requires knowledge about a power system using variables <code>bus</code>, <code>branch</code>, <code>generator</code> and <code>basePower</code>.</p><p>The minimum amount of information within an instance of the data structure required to run the module requires one variable associated with measurements, <code>bus</code> and <code>branch</code> variables.</p><p>We advise the reader to read the sections <a href="../input/#powersysteminputdata">Power System Data Structure</a> and <a href="../input/#measurementinputdata">Measurement Data Structure</a> which provides the structure of the input DATA, with numerous examples given in the section <a href="../input/#usecases">Use Cases</a>.</p><hr/><h2 id="Output-Data-Structure"><a class="docs-heading-anchor" href="#Output-Data-Structure">Output Data Structure</a><a id="Output-Data-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#Output-Data-Structure" title="Permalink"></a></h2><p>The state estimation function <code>runse()</code> returns a struct variable <code>results</code> with fields <code>main</code>, <code>flow</code>, <code>estimate</code>, <code>error</code>, <code>baddata</code> and <code>observability</code> containing state estimation analysis results. Further, the variables <code>measurements</code> and <code>system</code> contain the measurement and power system data, while the variable <code>info</code> contains a basic summary.</p>&nbsp;<h4 id="DC-State-Estimation"><a class="docs-heading-anchor" href="#DC-State-Estimation">DC State Estimation</a><a id="DC-State-Estimation-1"></a><a class="docs-heading-anchor-permalink" href="#DC-State-Estimation" title="Permalink"></a></h4><p>We define the main electrical quantities generated by the JuliaGrid in the section <a href="../tbflow/#dcpfanalysis">DC Power Flow Analysis</a>.</p><p>The <code>main</code> data structure contains results related to the bus.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">bus number defined as positive integer</td><td style="text-align: left">-</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">voltage angle</td><td style="text-align: left">deg</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">active power injection</td><td style="text-align: left">MW</td></tr></table>&nbsp;<p>The <code>flow</code> data structure contains results related to the branch.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">branch number defined as positive integer</td><td style="text-align: left">-</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">from bus number defined as positive integer</td><td style="text-align: left">-</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">to bus number defined as positive integer</td><td style="text-align: left">-</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">from bus active power flow</td><td style="text-align: left">MW</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">to bus active power flow</td><td style="text-align: left">MW</td></tr></table>&nbsp;<h4 id="Non-linear-and-Linear-State-Estimation-with-PMUs"><a class="docs-heading-anchor" href="#Non-linear-and-Linear-State-Estimation-with-PMUs">Non-linear and Linear State Estimation with PMUs</a><a id="Non-linear-and-Linear-State-Estimation-with-PMUs-1"></a><a class="docs-heading-anchor-permalink" href="#Non-linear-and-Linear-State-Estimation-with-PMUs" title="Permalink"></a></h4><p>We define main electrical quantities generated by the JuliaGrid in the section <a href="../tbflow/#acpfanalysis">AC Power Flow Analysis</a>.</p><p>The <code>main</code> data structure contains results related to the bus.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">bus number defined as positive integer</td><td style="text-align: left">-</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">voltage magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">voltage angle</td><td style="text-align: left">deg</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">active power injection</td><td style="text-align: left">MW</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">reactive power injection</td><td style="text-align: left">MVAr</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">active power consumed by the shunt conductance</td><td style="text-align: left">MW</td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">reactive power consumed by the shunt susceptance</td><td style="text-align: left">MVAr</td></tr></table>&nbsp;<p>The <code>flow</code> data structure contains results related to the branch.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">branch number defined as positive integer</td><td style="text-align: left">-</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">from bus number defined as positive integer</td><td style="text-align: left">-</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">to bus number defined as positive integer</td><td style="text-align: left">-</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">from bus active power flow</td><td style="text-align: left">MW</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">from bus reactive power flow</td><td style="text-align: left">MVAr</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">to bus active power flow</td><td style="text-align: left">MW</td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">to bus reactive power flow</td><td style="text-align: left">MVAr</td></tr><tr><td style="text-align: center">8</td><td style="text-align: left">total branch reactive power injection</td><td style="text-align: left">MVAr</td></tr><tr><td style="text-align: center">9</td><td style="text-align: left">active power loss at the series impedance</td><td style="text-align: left">MW</td></tr><tr><td style="text-align: center">10</td><td style="text-align: left">reactive power loss at the series impedance</td><td style="text-align: left">MVAr</td></tr><tr><td style="text-align: center">11</td><td style="text-align: left">from bus current magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">12</td><td style="text-align: left">from bus current angle</td><td style="text-align: left">deg</td></tr><tr><td style="text-align: center">13</td><td style="text-align: left">to bus current magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">14</td><td style="text-align: left">to bus current angle</td><td style="text-align: left">deg</td></tr></table>&nbsp;<h4 id="State-Estimation"><a class="docs-heading-anchor" href="#State-Estimation">State Estimation</a><a id="State-Estimation-1"></a><a class="docs-heading-anchor-permalink" href="#State-Estimation" title="Permalink"></a></h4><p>The <code>estimate</code> data structure contains summary of the state estimation analysis. The data is printed descriptively when displayed using a terminal, while the exported results are encoded with numeric values. Measurements that are marked as bad-measurement can only appear if the bad data analysis has been run, similarly pseudo-measurements occur if observability analysis is running.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">row number defined as positive integer</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">measurement status where in-service = 1, bad-measurement = 2, pseudo-measurement = 3</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">measurement class where legacy = 1, PMU = 2</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">measurement type where active power flow = 1, reactive power flow = 2, active power injection = 3, reactive power injection = 4, current magnitude = 5,  current angle = 6, voltage magnitude = 7, voltage angle = 8, current real component = 9, current imaginary component = 10, voltage real component = 11, voltage imaginary component = 12</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">local index of the measurement given in the input DATA</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">measurement value</td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">measurement variance value</td></tr><tr><td style="text-align: center">8</td><td style="text-align: left">estimate value</td></tr><tr><td style="text-align: center">9</td><td style="text-align: left">residual estimate to measurement values</td></tr><tr><td style="text-align: center">10</td><td style="text-align: left">exact value (if exists in the input DATA)</td></tr><tr><td style="text-align: center">11</td><td style="text-align: left">residual estimate to exact values (if exact values exist)</td></tr></table>&nbsp;<p>The <code>error</code> data structure contains different error metrics which are calculated in the per-unit system. Note that only in-service and pseudo-measurement values are included, respectively bad-measurements are not included.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">mean absolute error of the estimate and corresponding measurement values</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">root mean square error of the estimate and corresponding measurement values</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">weighted residual sum of squares error of the estimate and corresponding measurement values</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">mean absolute error  of the estimate and corresponding exact values (if exact values exist)</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">root mean square error of the estimate and corresponding exact values (if exact values exist)</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">weighted residual sum of squares error of the estimate and corresponding exact values (if exact values exist)</td></tr></table>&nbsp;<p>The <code>baddata</code> data structure contains information about bad data analysis. Note that if the bad data measurement corresponds with critical measurement, this measurement is skipped, and one of the next, with the highest normalized residual, is marked as the bad data in the same pass.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">pass of weighted least-squares method, where in each pass suspected bad data is eliminated</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">bad measurement class where legacy = 1, PMU = 2</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">measurement type where active power flow = 1, reactive power flow = 2, active power injection = 3, reactive power injection = 4, current magnitude = 5,  current angle = 6, voltage magnitude = 7, voltage angle = 8, current real component = 9, current imaginary component = 10, voltage real component = 11, voltage imaginary component = 12</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">local index of the bad measurement given in the input DATA</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">normalized residual value of the bad data measurement</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">measurement status where bad-measurement = 2</td></tr></table>&nbsp;<p>The <code>observability</code> data structure contains information about flow islands and pseudo-measurements, where each flow island is formed by buses. Pseudo-measurements are also marked in the <code>estimate</code> variable.  </p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">flow island as positive integer</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">bus number in the corresponding island</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">pseudo-measurement class where legacy = 1, PMU = 2</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">measurement type where active power flow = 1, reactive power flow = 2, active power injection = 3, reactive power injection = 4, current magnitude = 5,  current angle = 6, voltage magnitude = 7, voltage angle = 8, current real component = 9, current imaginary component = 10, voltage real component = 11, voltage imaginary component = 12</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">local index of the pseudo-measurement given in the input DATA</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">pseudo-measurement value</td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">pseudo-measurement variance</td></tr></table></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../optimalflow/">« Optimal Power Flow</a><a class="docs-footer-nextpage" href="../generator/">Measurement Generator »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 2 October 2020 08:17">Friday 2 October 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
