<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>State Estimation · JuliaGrid</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/style.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="JuliaGrid logo"/></a><div class="docs-package-name"><span class="docs-autofit">JuliaGrid</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../flow/">Power Flow</a></li><li><a class="tocitem" href="../generator/">Measurement Generator</a></li><li class="is-active"><a class="tocitem" href>State Estimation</a><ul class="internal"><li><a class="tocitem" href="#State-Estimation-(only-DC)-1"><span>State Estimation (only DC)</span></a></li><li><a class="tocitem" href="#Run-Settings-1"><span>Run Settings</span></a></li><li><a class="tocitem" href="#Input-Arguments-1"><span>Input Arguments</span></a></li><li><a class="tocitem" href="#Input-Data-Structure-1"><span>Input Data Structure</span></a></li><li><a class="tocitem" href="#Output-Data-Structure-1"><span>Output Data Structure</span></a></li><li><a class="tocitem" href="#References-1"><span>References</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>State Estimation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>State Estimation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mcosovic/JuliaGrid.jl/blob/master/docs/src/man/estimation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="State-Estimation-(only-DC)-1"><a class="docs-heading-anchor" href="#State-Estimation-(only-DC)-1">State Estimation (only DC)</a><a class="docs-heading-anchor-permalink" href="#State-Estimation-(only-DC)-1" title="Permalink"></a></h2><p>The module runs the non-linear and DC state estimation, as well as the linear state estimation with PMUs only. By default settings, the state estimation algorithms use the weighted least-squares estimation, but it is also possible to use the least absolute value estimation [1, Sec. 6.5].  </p><p>The non-linear state estimation is implemented using the following features:</p><ul><li>solved by the Gauss-Newton method,</li><li>the state vector is given in the polar coordinate system,</li><li>phasor measurements are given in the polar coordinate system,</li><li>measurement errors are uncorrelated.</li></ul><p>The linear state estimation with PMUs only is implemented using the following features:</p><ul><li>the state vector is given in the rectangular coordinate system,</li><li>phasor measurements are transformed from polar to rectangular coordinates,</li><li>the covariance matrix is transformed from polar to rectangular coordinates.</li></ul><p>Besides state estimation algorithms, we have implemented the bad data processing using the largest normalized residual test [1, Sec. 5.7]. The routine proceeds with bad data analysis after the estimation process is finished, in the repetitive process of identifying and eliminating bad data measurements one after another.</p><p>The observability analysis with restore routine is based on the flow islands [2], [3], where pseudo-measurements are chosen between measurements that are marked as out-service in the input DATA.</p><p>Finally, to achieve global observability of the power system only with PMUs, we implemented the optimal placement algorithm given in [4].</p><hr/><h2 id="Run-Settings-1"><a class="docs-heading-anchor" href="#Run-Settings-1">Run Settings</a><a class="docs-heading-anchor-permalink" href="#Run-Settings-1" title="Permalink"></a></h2><p>Input arguments of the function <code>runse(...)</code> describe the state estimation settings. The order of inputs and their appearance is arbitrary, with only DATA input required. Still, for the methodological reasons, the syntax examples follow a certain order.</p><h4 id="Syntax-1"><a class="docs-heading-anchor" href="#Syntax-1">Syntax</a><a class="docs-heading-anchor-permalink" href="#Syntax-1" title="Permalink"></a></h4><pre><code class="language-julia-repl">runse(DATA, METHOD)
runse(DATA, METHOD, LAVBAD)
runse(DATA, METHOD, LAVBAD, DISPLAY)
runse(DATA, METHOD, LAVBAD, DISPLAY; ATTACH)
runse(DATA, METHOD, LAVBAD, DISPLAY; ATTACH, SET)
runse(DATA, METHOD, LAVBAD, DISPLAY; ATTACH, SET, VARIANCE)
runse(DATA, METHOD, LAVBAD, DISPLAY; ATTACH, SET, VARIANCE, SAVE)</code></pre><h4 id="Description-1"><a class="docs-heading-anchor" href="#Description-1">Description</a><a class="docs-heading-anchor-permalink" href="#Description-1" title="Permalink"></a></h4><pre><code class="language-julia-repl">runse(DATA, METHOD) solves state estimation problem
runse(DATA, METHOD, LAVBAD) sets least absolute values estimation and bad data processing
runse(DATA, METHOD, LAVBAD, DISPLAY) shows results in the terminal
runse(DATA, METHOD, LAVBAD, DISPLAY; ATTACH) sets various options related with algorithms
runse(DATA, METHOD, LAVBAD, DISPLAY; ATTACH, SET) defines the measurement set (in-service and out-service)
runse(DATA, METHOD, LAVBAD, DISPLAY; ATTACH, SET, VARIANCE) defines measurement values using predefined variances
runse(DATA, METHOD, LAVBAD, DISPLAY; ATTACH, SET, VARIANCE, SAVE) exports results data</code></pre><h4 id="Output-1"><a class="docs-heading-anchor" href="#Output-1">Output</a><a class="docs-heading-anchor-permalink" href="#Output-1" title="Permalink"></a></h4><pre><code class="language-julia-repl">results, measurements, system, info = runse(...) returns results of the state estimation, measurements and power system data with a summary</code></pre><h4 id="Examples-1"><a class="docs-heading-anchor" href="#Examples-1">Examples</a><a class="docs-heading-anchor-permalink" href="#Examples-1" title="Permalink"></a></h4><pre><code class="language-julia-repl">julia&gt; results, = runse(&quot;case14se.xlsx&quot;, &quot;dc&quot;, &quot;main&quot;, &quot;estimate&quot;, &quot;error&quot;, &quot;flow&quot;)</code></pre><pre><code class="language-julia-repl">julia&gt; results, = runse(&quot;case14se.xlsx&quot;, &quot;dc&quot;; bad = [&quot;pass&quot; 3 &quot;threshold&quot; 2])</code></pre><hr/><h2 id="Input-Arguments-1"><a class="docs-heading-anchor" href="#Input-Arguments-1">Input Arguments</a><a class="docs-heading-anchor-permalink" href="#Input-Arguments-1" title="Permalink"></a></h2><p>The state estimation function <code>runse(...)</code> receives a group of variable number of arguments: DATA, METHOD, LAVBAD and DISPLAY, and group of arguments by keyword: ATTACH, SET, VARIANCE and SAVE</p><h4 id="Variable-Arguments-1"><a class="docs-heading-anchor" href="#Variable-Arguments-1">Variable Arguments</a><a class="docs-heading-anchor-permalink" href="#Variable-Arguments-1" title="Permalink"></a></h4><p>DATA</p><table><tr><th style="text-align: left">Example</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>&quot;case14.h5&quot;</code></td><td style="text-align: left">loads the state estimation data from the package</td></tr><tr><td style="text-align: left"><code>&quot;case14.xlsx&quot;</code></td><td style="text-align: left">loads the state estimation data from the package</td></tr><tr><td style="text-align: left"><code>&quot;C:/case14.xlsx&quot;</code></td><td style="text-align: left">loads the state estimation data from a custom path</td></tr></table><p>METHOD</p><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>&quot;nonlinear&quot;</code></td><td style="text-align: left">runs the non-linear state estimation based on the weighted least-squares, <code>default setting</code></td></tr><tr><td style="text-align: left"><code>&quot;pmu&quot;</code></td><td style="text-align: left">runs the linear weighted least-squares state estimation only with PMUs</td></tr><tr><td style="text-align: left"><code>&quot;dc&quot;</code></td><td style="text-align: left">runs the linear weighted least-squares DC state estimation</td></tr></table><p>LAVBAD</p><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>&quot;lav&quot;</code></td><td style="text-align: left">runs the non-linear or linear state estimation using the least absolute value estimation (replacing  weighted least-squares everywhere) with <code>&quot;GLPK&quot;</code> solver and <code>&quot;equality&quot;</code> constraints as <code>default settings</code> (see ATTACH to change <code>default settings</code>)</td></tr><tr><td style="text-align: left"><code>&quot;bad&quot;</code></td><td style="text-align: left">runs the bad data processing using the identification <code>&quot;threshold&quot; = 3</code>, with the maximum number of <code>&quot;passes&quot; = 1</code>, where critical measurement are marked according to <code>&quot;critical&quot; = 1e-10</code> (see ATTACH to change <code>default settings</code>)</td></tr><tr><td style="text-align: left"><code>&quot;observe&quot;</code></td><td style="text-align: left">runs the observability analysis using the identification <code>&quot;pivot&quot; = 1e-5</code> threshold, where to restore observability routine takes only power injection measurements with variances in per-unit <code>&quot;Pij&quot; = 1e5</code> (see ATTACH to change <code>default settings</code>)</td></tr></table><p>DISPLAY</p><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>&quot;main&quot;</code></td><td style="text-align: left">shows main bus data display</td></tr><tr><td style="text-align: left"><code>&quot;flow&quot;</code></td><td style="text-align: left">shows power flow data display</td></tr><tr><td style="text-align: left"><code>&quot;estimate&quot;</code></td><td style="text-align: left">shows estimation data display</td></tr><tr><td style="text-align: left"><code>&quot;error&quot;</code></td><td style="text-align: left">shows evaluation data display</td></tr></table><hr/><h4 id="Keyword-Arguments-1"><a class="docs-heading-anchor" href="#Keyword-Arguments-1">Keyword Arguments</a><a class="docs-heading-anchor-permalink" href="#Keyword-Arguments-1" title="Permalink"></a></h4><p>ATTACH</p><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>lav = [solver constraint]</code></td><td style="text-align: left">the least absolute value estimation can be run using <code>&quot;GLPK&quot;</code> or <code>&quot;Ipopt&quot;</code> optimization <code>solver</code> with <code>constraint</code> equal to <code>&quot;equality&quot;</code> or <code>&quot;inequality&quot;</code>, <code>default setting: lav = [&quot;GLPK&quot; &quot;equality&quot;]</code></td></tr><tr><td style="text-align: left"><code>bad = [&quot;pass&quot; value &quot;threshold&quot; value &quot;critical&quot; value]</code></td><td style="text-align: left">bad data processing can be run using the identification <code>threshold</code>, with the maximum number of <code>passes</code>, where <code>critical</code> measurement are marked according defined value, <code>default setting: bad = [&quot;pass&quot; 1 &quot;threshold&quot; 3 &quot;critical&quot; 1e-10]</code></td></tr><tr><td style="text-align: left"><code>observe = [&quot;pivot&quot; value &quot;Pij&quot; value &quot;Pi&quot; value &quot;Ti&quot; value]</code></td><td style="text-align: left">observability analysis can be run using the <code>pivot</code> identification <code>threshold</code>, where active power flow <code>&quot;Pij&quot; value</code>, active power injection <code>&quot;Pi&quot; value</code> or bus voltage angle <code>&quot;Ti&quot; value</code> can be forced to restore observability, with measurement variances equal to <code>values</code></td></tr><tr><td style="text-align: left"><code>solve = solver</code></td><td style="text-align: left">runs the linear system <code>solver</code> using built-in <code>solve = &quot;builtin&quot;</code> as <code>default setting</code> or LU linear system solver <code>solve = &quot;lu&quot;</code></td></tr></table><p>SET (phasor measurements)</p><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>pmuset = &quot;all&quot;</code></td><td style="text-align: left">all phasor measurements are in-service</td></tr><tr><td style="text-align: left"><code>pmuset = &quot;optimal&quot;</code></td><td style="text-align: left">deploys phasor measurements according to the optimal PMU location using GLPK solver, where the system is completely observable only by phasor measurements</td></tr><tr><td style="text-align: left"><code>pmuset = [&quot;redundancy&quot; value]</code></td><td style="text-align: left">deploys random angle and magnitude measurements measured by PMUs according to the corresponding redundancy</td></tr><tr><td style="text-align: left"><code>pmuset = [&quot;device&quot; value]</code></td><td style="text-align: left">deploys voltage and current phasor measurements according to the random selection of PMUs placed on buses, to deploy all devices use <code>&quot;all&quot;</code> as value</td></tr><tr><td style="text-align: left"><code>pmuset = [&quot;Iij&quot; value &quot;Dij&quot; value &quot;Vi&quot; value &quot;Ti&quot; value]</code></td><td style="text-align: left">deploys phasor measurements according to the random selection of measurement types<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>, to deploy all selected measurements use <code>&quot;all&quot;</code> as value</td></tr></table><p>SET (legacy measurements)</p><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>legacyset = &quot;all&quot;</code></td><td style="text-align: left">all legacy measurements are in-service</td></tr><tr><td style="text-align: left"><code>legacyset = [&quot;redundancy &quot; value]</code></td><td style="text-align: left">deploys random selection of legacy measurements according the corresponding redundancy</td></tr><tr><td style="text-align: left"><code>legacyset = [&quot;Pij&quot; value &quot;Qij&quot; value &quot;Iij&quot; value &quot;Pi&quot; value &quot;Qi&quot; value &quot;Vi&quot; value]</code></td><td style="text-align: left">deploys legacy measurements according to the random selection of measurement types<sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup>, to deploy all selected measurements use <code>&quot;all&quot;</code> as value</td></tr></table><div class="admonition is-info"><header class="admonition-header">Set</header><div class="admonition-body"><p>The function keeps sets as in the input DATA and changes only the sets that are called using keywords. For example, if the keywords <code>pmuset</code> and <code>legacyset</code> are omitted, the function will retain the measurement set as in the input data, which allows the same measurement set, while changing the measurement variances.</p><p>Further, the function accept any subset of phasor<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup> or legacy<sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup> measurements, and consequently, it is not necessary to define attributes for all measurements.  </p><pre><code class="language-julia-repl">julia&gt; runmg(&quot;case14.h5&quot;; pmuset = [&quot;Iij&quot; &quot;all&quot; &quot;Vi&quot; 2])</code></pre><p>Thus, the measurement set will be changed in the data for the bus voltage magnitude and branch current magnitude measurements, both of them related with PMUs.  </p></div></div><p>VARIANCE (phasor measurements)</p><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>pmuvariance = [&quot;all&quot; value]</code></td><td style="text-align: left">applies fixed-value variance over all phasor measurements</td></tr><tr><td style="text-align: left"><code>pmuvariance = [&quot;random&quot; min max]</code></td><td style="text-align: left">selects variances uniformly at random within limits, applied over all phasor measurements</td></tr><tr><td style="text-align: left"><code>pmuvariance = [&quot;Iij&quot; value &quot;Dij&quot; value &quot;Vi&quot; value &quot;Ti&quot; value &quot;all&quot; value]</code></td><td style="text-align: left">predefines variances over a given subset of phasor measurements<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>; to apply fixed-value variance over all, except for those individually defined use <code>&quot;all&quot; value</code></td></tr></table><p>VARIANCE (legacy measurements)</p><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>legacyvariance = [&quot;all&quot; value]</code></td><td style="text-align: left">applies fixed-value variance over all phasor measurements</td></tr><tr><td style="text-align: left"><code>legacyvariance = [&quot;random&quot; min max]</code></td><td style="text-align: left">selects variances uniformly at random within limits, applied over all phasor measurements</td></tr><tr><td style="text-align: left"><code>legacyvariance = [&quot;Pij&quot; value &quot;Qij&quot; value &quot;Iij&quot; value &quot;Pi&quot; value &quot;Qi&quot; value &quot;Vi&quot; value &quot;all&quot; value]</code></td><td style="text-align: left">predefines variances over a given subset of phasor measurements<sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup>, to apply fixed-value variance over all, except for those individually defined use <code>&quot;all&quot; value</code></td></tr></table><div class="admonition is-info"><header class="admonition-header">Variance</header><div class="admonition-body"><p>The function keeps measurement values and measurement variances as in the input DATA, and changes only measurement values and variances that are called using keywords. For example, if the keywords <code>pmuvariance</code> and <code>legacyvariance</code> are omitted, the function will retain the measurement values and variances as in the input data, allowing the same measurement values and variances, while changing the measurement sets.</p><p>Further, the function accepts any subset of phasor<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup> or legacy<sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup> measurements, consequently, it is not necessary to define attributes for all measurements, where keyword <code>&quot;all&quot;</code> generates measurement values according to defined variance for all measurements, except for those individually defined.   </p><pre><code class="language-julia-repl">julia&gt; runmg(&quot;case14.h5&quot;; legacyvariance = [&quot;Pij&quot; 1e-4 &quot;all&quot; 1e-5])</code></pre><p>The function applies variance value of 1e-5 over all legacy measurements, except for active power flow measurements which have variance equal to 1e-4, while measurement values and variances related with PMU remain the same as in the input DATA.</p></div></div><p>SAVE</p><table><tr><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>save = &quot;path/name.h5&quot;</code></td><td style="text-align: left">saves results in the h5-file</td></tr><tr><td style="text-align: left"><code>save = &quot;path/name.xlsx&quot;</code></td><td style="text-align: left">saves results in the xlsx-file</td></tr></table><hr/><h2 id="Input-Data-Structure-1"><a class="docs-heading-anchor" href="#Input-Data-Structure-1">Input Data Structure</a><a class="docs-heading-anchor-permalink" href="#Input-Data-Structure-1" title="Permalink"></a></h2><p>The function supports the <code>.h5</code> or <code>.xlsx</code> file extensions, with variables <code>pmuVoltage</code> and <code>pmuCurrents</code> associated with phasor measurements, and <code>legacyFlow</code>, <code>&quot;legacyCurrent&quot;</code>, <code>&quot;legacyInjection&quot;</code> and <code>&quot;legacyVoltage&quot;</code> associated with legacy measurements. Further, the function requires knowledge about a power system using variables <code>bus</code>, <code>branch</code>, <code>generator</code> and <code>&quot;basePower&quot;</code> variables.</p><p>The minimum amount of information within an instance of the data structure required to run the module requires one variable associated with measurements, <code>bus</code> and <code>branch</code> variables.</p><p>Next, we describe the structure of measurement variables involved in the input file, while variables associated with a power system are described in <a href="../flow/#Power-Flow-1">Power Flow</a> section.</p><p>The <code>pmuVoltage</code> data structure</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">measurement</td><td style="text-align: left">bus voltage magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">variance</td><td style="text-align: left">bus voltage magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">status</td><td style="text-align: left">bus voltage magnitude in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">measurement</td><td style="text-align: left">bus voltage angle</td><td style="text-align: left">radian</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">variance</td><td style="text-align: left">bus voltage angle</td><td style="text-align: left">radian</td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">status</td><td style="text-align: left">bus voltage angle in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">8</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, bus voltage magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">9</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, bus voltage angle</td><td style="text-align: left">radian</td></tr></table><p>The <code>pmuCurrent</code> data structure</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Description</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">branch number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">from bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">to bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">measurement</td><td style="text-align: left">branch current magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">variance</td><td style="text-align: left">branch current magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">status</td><td style="text-align: left">branch current magnitude in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">measurement</td><td style="text-align: left">branch current angle</td><td style="text-align: left">radian</td></tr><tr><td style="text-align: center">8</td><td style="text-align: left">variance</td><td style="text-align: left">branch current angle</td><td style="text-align: left">radian</td></tr><tr><td style="text-align: center">9</td><td style="text-align: left">status</td><td style="text-align: left">branch current in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">10</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, branch current magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">11</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, branch current angle</td><td style="text-align: left">radian</td></tr></table><hr/><p>The <code>legacyFlow</code> data structure</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">branch number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">from bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">to bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">measurement</td><td style="text-align: left">active power flow</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">variance</td><td style="text-align: left">active power flow</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">status</td><td style="text-align: left">active power flow in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">measurement</td><td style="text-align: left">reactive power flow</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">8</td><td style="text-align: left">variance</td><td style="text-align: left">reactive power flow</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">9</td><td style="text-align: left">status</td><td style="text-align: left">reactive power flow in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">10</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, active power flow</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">11</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, reactive power flow</td><td style="text-align: left">per-unit</td></tr></table><p>The <code>legacyCurrent</code> data structure</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">branch number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">from bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">to bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">measurement</td><td style="text-align: left">branch current magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">variance</td><td style="text-align: left">branch current magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">status</td><td style="text-align: left">branch current magnitude in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, branch current magnitude</td><td style="text-align: left">per-unit</td></tr></table><p>The <code>legacyInjection</code> data structure</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">measurement</td><td style="text-align: left">active power injection</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">variance</td><td style="text-align: left">active power injection</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">status</td><td style="text-align: left">active power injection in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">measurement</td><td style="text-align: left">reactive power injection</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">variance</td><td style="text-align: left">reactive power injection</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">status</td><td style="text-align: left">reactive power injection  in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">8</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, active power injection</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">9</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, reactive power injection</td><td style="text-align: left">per-unit</td></tr></table><p>The <code>pmuVoltage</code> data structure</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">measurement</td><td style="text-align: left">bus voltage magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">variance</td><td style="text-align: left">bus voltage magnitude</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">status</td><td style="text-align: left">bus voltage magnitude in/out-service</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">exact</td><td style="text-align: left">optional column, bus voltage magnitude</td><td style="text-align: left">per-unit</td></tr></table><hr/><div class="admonition is-warning"><header class="admonition-header">Optional columns</header><div class="admonition-body"><p>The optional columns are mandatory when keywords <code>pmuvariance</code> and/or <code>legacyvariance</code> are used.  </p></div></div><div class="admonition is-success"><header class="admonition-header">How many</header><div class="admonition-body"><p>The input data needs not to contain a complete structure of measurement variables, and measurement data needs not to be consistent with the total number of buses and branches. Also, the function supports more than one same measurement per the same bus or branch.</p></div></div><hr/><h2 id="Output-Data-Structure-1"><a class="docs-heading-anchor" href="#Output-Data-Structure-1">Output Data Structure</a><a class="docs-heading-anchor-permalink" href="#Output-Data-Structure-1" title="Permalink"></a></h2><p>The state estimation function <code>runpf(...)</code> returns a struct variable <code>results</code> with fields <code>main</code>, <code>flow</code>, <code>estimate</code>, <code>error</code>, <code>baddata</code> and <code>observability</code> containing state estimation analysis results. Further, the variables <code>measurements</code> and <code>system</code> contain the measurement and power system data, while the variable <code>info</code> contains a basic summary.</p><h4 id="DC-State-estimation-1"><a class="docs-heading-anchor" href="#DC-State-estimation-1">DC State estimation</a><a class="docs-heading-anchor-permalink" href="#DC-State-estimation-1" title="Permalink"></a></h4><p>The <code>main</code> data structure contains estimates of voltage angles and the calculated power injection based on them.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">voltage</td><td style="text-align: left">angle</td><td style="text-align: left">deg</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">injection</td><td style="text-align: left">active power</td><td style="text-align: left">MW</td></tr></table><p>The <code>flow</code> data structure contains power flow values obtained according to estimates of voltage angles.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">branch number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">from bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">to bus number</td><td style="text-align: left">positive integer</td><td style="text-align: left"></td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">from bus flow</td><td style="text-align: left">active power</td><td style="text-align: left">MW</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">to bus flow</td><td style="text-align: left">active power</td><td style="text-align: left">MW</td></tr></table><p>The <code>estimate</code> data structure contains summary of the state estimation analysis. The data is printed descriptively when displayed using a terminal, while the exported results are encoded with numeric values. Measurements that are marked as bad-measurement can only appear if the bad data analysis has been run, similarly pseudo-measurements occur if observability analysis is running.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">row number</td><td style="text-align: left">positive integer</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">device</td><td style="text-align: left">status, in-service(1), bad-measurement(2) and pseudo-measurement(3)</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">device</td><td style="text-align: left">class, legacy(1) and PMU(2)</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">device</td><td style="text-align: left">type, flow(1), injection(4) and angle(8)</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">device</td><td style="text-align: left">local index of the measurement given in the input DATA</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">device</td><td style="text-align: left">measure value</td></tr><tr><td style="text-align: center">7</td><td style="text-align: left">device</td><td style="text-align: left">variance value</td></tr><tr><td style="text-align: center">8</td><td style="text-align: left">algorithm</td><td style="text-align: left">estimate value</td></tr><tr><td style="text-align: center">9</td><td style="text-align: left">residual</td><td style="text-align: left">estimate to measure values</td></tr><tr><td style="text-align: center">10</td><td style="text-align: left">user</td><td style="text-align: left">exact value (if exists in the input DATA)</td></tr><tr><td style="text-align: center">11</td><td style="text-align: left">residual</td><td style="text-align: left">estimate to exact values (if exact values exist)</td></tr></table><p>The <code>error</code> data structure contains different error metrics which are calculated in the per-unit system. Note that only in-service measurement values are included, respectively bad data and pseudo-measurement are not included.</p><table><tr><th style="text-align: center">Row</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">mean absolute error</td><td style="text-align: left">between estimate and corresponding measurement values in per-unit system</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">root mean square error</td><td style="text-align: left">between estimate and corresponding measurement values in per-unit system</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">weighted residual sum of squares error</td><td style="text-align: left">between estimate and corresponding measurement values in per-unit system</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">1</td><td style="text-align: left">mean absolute error</td><td style="text-align: left">between estimate and corresponding exact values in per-unit system (if exact values exist)</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">root mean square error</td><td style="text-align: left">between estimate and corresponding exact values in per-unit system (if exact values exist)</td><td style="text-align: left">per-unit</td></tr><tr><td style="text-align: center">2</td><td style="text-align: left">weighted residual sum of squares error</td><td style="text-align: left">between estimate and corresponding exact values in per-unit system (if exact values exist)</td><td style="text-align: left">per-unit</td></tr></table><p>The <code>baddata</code> data structure contains information about bad data analysis. Note that if the bad data measurement corresponds with critical measurement, this measurement is skipped, and one of the next, with the highest normalized residual, is marked as the bad data in the same pass.</p><table><tr><th style="text-align: center">Column</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: center">1</td><td style="text-align: left">algorithm</td><td style="text-align: left">in each pass suspected bad data is eliminated</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">device</td><td style="text-align: left">type, flow(1), injection(4) and angle(8)</td></tr><tr><td style="text-align: center">3</td><td style="text-align: left">device</td><td style="text-align: left">local index of the measurement given in the input DATA</td></tr><tr><td style="text-align: center">4</td><td style="text-align: left">device</td><td style="text-align: left">suspected bad data</td></tr><tr><td style="text-align: center">5</td><td style="text-align: left">algorithm</td><td style="text-align: left">normalized residual of the bad data measurement</td></tr><tr><td style="text-align: center">6</td><td style="text-align: left">device</td><td style="text-align: left">status, bad-measurement(2)</td></tr></table><p>The <code>observability</code> data structure contains information about flow islands, where each flow island is formed by buses. Pseudo-measurements are given in the <code>estimate</code> variable.  </p><h2 id="References-1"><a class="docs-heading-anchor" href="#References-1">References</a><a class="docs-heading-anchor-permalink" href="#References-1" title="Permalink"></a></h2><p>[1] A. Abur and A. Exposito, “Power System State Estimation: Theory and Implementation,” ser. Power Engineering. Taylor &amp; Francis, 2004.</p><p>[2] G. C. Contaxis and G. N. Korres, “A Reduced Model for Power System Observability Analysis and Restoration,” IEEE Trans. Power Syst., vol. 3, no. 4, pp. 1411-1417, Nov. 1988.</p><p>[3] N. M. Manousakis and G. N. Korres, &quot;Observability analysis for power systems including conventional and phasor measurements,&quot; 7th Mediterranean Conference and Exhibition on Power Generation, Transmission, Distribution and Energy Conversion (MedPower 2010), Agia Napa, 2010.</p><p>[4] B. Gou, “Optimal placement of PMUs by integer linear programming,” IEEE Trans. Power Syst., vol. 23, no. 3, pp. 1525–1526, Aug. 2008.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generator/">« Measurement Generator</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 16 May 2020 22:38">Saturday 16 May 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
